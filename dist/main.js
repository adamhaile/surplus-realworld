!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},n.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/dist/",n(n.s=1)}([function(t,e,n){(function(e){!function(e){"use strict";var n={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:g,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:g,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment *(?:\n|\s*$)|closed *(?:\n{2,}|\s*$)|closing *(?:\n{2,}|\s*$))/,def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,table:g,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,paragraph:/^([^\n]+(?:\n?(?!hr|heading|lheading| {0,3}>|tag)[^\n]+)+)/,text:/^[^\n]+/};function r(t){this.tokens=[],this.tokens.links={},this.options=t||v.defaults,this.rules=n.normal,this.options.gfm&&(this.options.tables?this.rules=n.tables:this.rules=n.gfm)}n._label=/(?:\\[\[\]]|[^\[\]])+/,n._title=/(?:"(?:\\"|[^"]|"[^"\n]*")*"|'\n?(?:[^'\n]+\n?)*'|\([^()]*\))/,n.def=f(n.def).replace("label",n._label).replace("title",n._title).getRegex(),n.bullet=/(?:[*+-]|\d+\.)/,n.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,n.item=f(n.item,"gm").replace(/bull/g,n.bullet).getRegex(),n.list=f(n.list).replace(/bull/g,n.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+n.def.source+")").getRegex(),n._tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b",n.html=f(n.html).replace("comment",/<!--[\s\S]*?-->/).replace("closed",/<(tag)[\s\S]+?<\/\1>/).replace("closing",/<tag(?:"[^"]*"|'[^']*'|\s[^'"\/>\s]*)*?\/?>/).replace(/tag/g,n._tag).getRegex(),n.paragraph=f(n.paragraph).replace("hr",n.hr).replace("heading",n.heading).replace("lheading",n.lheading).replace("tag","<"+n._tag).getRegex(),n.blockquote=f(n.blockquote).replace("paragraph",n.paragraph).getRegex(),n.normal=m({},n),n.gfm=m({},n.normal,{fences:/^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\n? *\1 *(?:\n+|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}),n.gfm.paragraph=f(n.paragraph).replace("(?!","(?!"+n.gfm.fences.source.replace("\\1","\\2")+"|"+n.list.source.replace("\\1","\\3")+"|").getRegex(),n.tables=m({},n.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/}),r.rules=n,r.lex=function(t,e){return new r(e).lex(t)},r.prototype.lex=function(t){return t=t.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(t,!0)},r.prototype.token=function(t,e){var r,i,o,l,u,s,a,c,f,p,h;for(t=t.replace(/^ +$/gm,"");t;)if((o=this.rules.newline.exec(t))&&(t=t.substring(o[0].length),o[0].length>1&&this.tokens.push({type:"space"})),o=this.rules.code.exec(t))t=t.substring(o[0].length),o=o[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?o:o.replace(/\n+$/,"")});else if(o=this.rules.fences.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"code",lang:o[2],text:o[3]||""});else if(o=this.rules.heading.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"heading",depth:o[1].length,text:o[2]});else if(e&&(o=this.rules.nptable.exec(t))){for(t=t.substring(o[0].length),s={type:"table",header:o[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:o[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:o[3].replace(/\n$/,"").split("\n")},c=0;c<s.align.length;c++)/^ *-+: *$/.test(s.align[c])?s.align[c]="right":/^ *:-+: *$/.test(s.align[c])?s.align[c]="center":/^ *:-+ *$/.test(s.align[c])?s.align[c]="left":s.align[c]=null;for(c=0;c<s.cells.length;c++)s.cells[c]=s.cells[c].split(/ *\| */);this.tokens.push(s)}else if(o=this.rules.hr.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"hr"});else if(o=this.rules.blockquote.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"blockquote_start"}),o=o[0].replace(/^ *> ?/gm,""),this.token(o,e),this.tokens.push({type:"blockquote_end"});else if(o=this.rules.list.exec(t)){for(t=t.substring(o[0].length),h=(l=o[2]).length>1,this.tokens.push({type:"list_start",ordered:h,start:h?+l:""}),r=!1,p=(o=o[0].match(this.rules.item)).length,c=0;c<p;c++)a=(s=o[c]).length,~(s=s.replace(/^ *([*+-]|\d+\.) +/,"")).indexOf("\n ")&&(a-=s.length,s=this.options.pedantic?s.replace(/^ {1,4}/gm,""):s.replace(new RegExp("^ {1,"+a+"}","gm"),"")),this.options.smartLists&&c!==p-1&&(l===(u=n.bullet.exec(o[c+1])[0])||l.length>1&&u.length>1||(t=o.slice(c+1).join("\n")+t,c=p-1)),i=r||/\n\n(?!\s*$)/.test(s),c!==p-1&&(r="\n"===s.charAt(s.length-1),i||(i=r)),this.tokens.push({type:i?"loose_item_start":"list_item_start"}),this.token(s,!1),this.tokens.push({type:"list_item_end"});this.tokens.push({type:"list_end"})}else if(o=this.rules.html.exec(t))t=t.substring(o[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===o[1]||"script"===o[1]||"style"===o[1]),text:o[0]});else if(e&&(o=this.rules.def.exec(t)))t=t.substring(o[0].length),o[3]&&(o[3]=o[3].substring(1,o[3].length-1)),f=o[1].toLowerCase(),this.tokens.links[f]||(this.tokens.links[f]={href:o[2],title:o[3]});else if(e&&(o=this.rules.table.exec(t))){for(t=t.substring(o[0].length),s={type:"table",header:o[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:o[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:o[3].replace(/(?: *\| *)?\n$/,"").split("\n")},c=0;c<s.align.length;c++)/^ *-+: *$/.test(s.align[c])?s.align[c]="right":/^ *:-+: *$/.test(s.align[c])?s.align[c]="center":/^ *:-+ *$/.test(s.align[c])?s.align[c]="left":s.align[c]=null;for(c=0;c<s.cells.length;c++)s.cells[c]=s.cells[c].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */);this.tokens.push(s)}else if(o=this.rules.lheading.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"heading",depth:"="===o[2]?1:2,text:o[1]});else if(e&&(o=this.rules.paragraph.exec(t)))t=t.substring(o[0].length),this.tokens.push({type:"paragraph",text:"\n"===o[1].charAt(o[1].length-1)?o[1].slice(0,-1):o[1]});else if(o=this.rules.text.exec(t))t=t.substring(o[0].length),this.tokens.push({type:"text",text:o[0]});else if(t)throw new Error("Infinite loop on byte: "+t.charCodeAt(0));return this.tokens};var i={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:g,tag:/^<!--[\s\S]*?-->|^<\/?[a-zA-Z0-9\-]+(?:"[^"]*"|'[^']*'|\s[^<'">\/\s]*)*?\/?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^_([^\s_](?:[^_]|__)+?[^\s_])_\b|^\*((?:\*\*|[^*])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`]?)\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:g,text:/^[\s\S]+?(?=[\\<!\[`*]|\b_| {2,}\n|$)/};function o(t,e){if(this.options=e||v.defaults,this.links=t,this.rules=i.normal,this.renderer=this.options.renderer||new l,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.gfm?this.options.breaks?this.rules=i.breaks:this.rules=i.gfm:this.options.pedantic&&(this.rules=i.pedantic)}function l(t){this.options=t||{}}function u(){}function s(t){this.tokens=[],this.token=null,this.options=t||v.defaults,this.options.renderer=this.options.renderer||new l,this.renderer=this.options.renderer,this.renderer.options=this.options}function a(t,e){return t.replace(e?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function c(t){return t.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,function(t,e){return"colon"===(e=e.toLowerCase())?":":"#"===e.charAt(0)?"x"===e.charAt(1)?String.fromCharCode(parseInt(e.substring(2),16)):String.fromCharCode(+e.substring(1)):""})}function f(t,e){return t=t.source,e=e||"",{replace:function(e,n){return n=(n=n.source||n).replace(/(^|[^\[])\^/g,"$1"),t=t.replace(e,n),this},getRegex:function(){return new RegExp(t,e)}}}function p(t,e){return h[" "+t]||(/^[^:]+:\/*[^/]*$/.test(t)?h[" "+t]=t+"/":h[" "+t]=t.replace(/[^/]*$/,"")),t=h[" "+t],"//"===e.slice(0,2)?t.replace(/:[\s\S]*/,":")+e:"/"===e.charAt(0)?t.replace(/(:\/*[^/]*)[\s\S]*/,"$1")+e:t+e}i._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,i._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,i.autolink=f(i.autolink).replace("scheme",i._scheme).replace("email",i._email).getRegex(),i._inside=/(?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]]|\](?=[^\[]*\]))*/,i._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/,i.link=f(i.link).replace("inside",i._inside).replace("href",i._href).getRegex(),i.reflink=f(i.reflink).replace("inside",i._inside).getRegex(),i.normal=m({},i),i.pedantic=m({},i.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/}),i.gfm=m({},i.normal,{escape:f(i.escape).replace("])","~|])").getRegex(),url:f(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("email",i._email).getRegex(),_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:f(i.text).replace("]|","~]|").replace("|","|https?://|ftp://|www\\.|[a-zA-Z0-9.!#$%&'*+/=?^_`{\\|}~-]+@|").getRegex()}),i.breaks=m({},i.gfm,{br:f(i.br).replace("{2,}","*").getRegex(),text:f(i.gfm.text).replace("{2,}","*").getRegex()}),o.rules=i,o.output=function(t,e,n){return new o(e,n).output(t)},o.prototype.output=function(t){for(var e,n,r,i,o="";t;)if(i=this.rules.escape.exec(t))t=t.substring(i[0].length),o+=i[1];else if(i=this.rules.autolink.exec(t))t=t.substring(i[0].length),r="@"===i[2]?"mailto:"+(n=a(this.mangle(i[1]))):n=a(i[1]),o+=this.renderer.link(r,null,n);else if(this.inLink||!(i=this.rules.url.exec(t))){if(i=this.rules.tag.exec(t))!this.inLink&&/^<a /i.test(i[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(i[0])&&(this.inLink=!1),t=t.substring(i[0].length),o+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(i[0]):a(i[0]):i[0];else if(i=this.rules.link.exec(t))t=t.substring(i[0].length),this.inLink=!0,o+=this.outputLink(i,{href:i[2],title:i[3]}),this.inLink=!1;else if((i=this.rules.reflink.exec(t))||(i=this.rules.nolink.exec(t))){if(t=t.substring(i[0].length),e=(i[2]||i[1]).replace(/\s+/g," "),!(e=this.links[e.toLowerCase()])||!e.href){o+=i[0].charAt(0),t=i[0].substring(1)+t;continue}this.inLink=!0,o+=this.outputLink(i,e),this.inLink=!1}else if(i=this.rules.strong.exec(t))t=t.substring(i[0].length),o+=this.renderer.strong(this.output(i[2]||i[1]));else if(i=this.rules.em.exec(t))t=t.substring(i[0].length),o+=this.renderer.em(this.output(i[2]||i[1]));else if(i=this.rules.code.exec(t))t=t.substring(i[0].length),o+=this.renderer.codespan(a(i[2].trim(),!0));else if(i=this.rules.br.exec(t))t=t.substring(i[0].length),o+=this.renderer.br();else if(i=this.rules.del.exec(t))t=t.substring(i[0].length),o+=this.renderer.del(this.output(i[1]));else if(i=this.rules.text.exec(t))t=t.substring(i[0].length),o+=this.renderer.text(a(this.smartypants(i[0])));else if(t)throw new Error("Infinite loop on byte: "+t.charCodeAt(0))}else i[0]=this.rules._backpedal.exec(i[0])[0],t=t.substring(i[0].length),"@"===i[2]?r="mailto:"+(n=a(i[0])):(n=a(i[0]),r="www."===i[1]?"http://"+n:n),o+=this.renderer.link(r,null,n);return o},o.prototype.outputLink=function(t,e){var n=a(e.href),r=e.title?a(e.title):null;return"!"!==t[0].charAt(0)?this.renderer.link(n,r,this.output(t[1])):this.renderer.image(n,r,a(t[1]))},o.prototype.smartypants=function(t){return this.options.smartypants?t.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…"):t},o.prototype.mangle=function(t){if(!this.options.mangle)return t;for(var e,n="",r=t.length,i=0;i<r;i++)e=t.charCodeAt(i),Math.random()>.5&&(e="x"+e.toString(16)),n+="&#"+e+";";return n},l.prototype.code=function(t,e,n){if(this.options.highlight){var r=this.options.highlight(t,e);null!=r&&r!==t&&(n=!0,t=r)}return e?'<pre><code class="'+this.options.langPrefix+a(e,!0)+'">'+(n?t:a(t,!0))+"\n</code></pre>\n":"<pre><code>"+(n?t:a(t,!0))+"\n</code></pre>"},l.prototype.blockquote=function(t){return"<blockquote>\n"+t+"</blockquote>\n"},l.prototype.html=function(t){return t},l.prototype.heading=function(t,e,n){return"<h"+e+' id="'+this.options.headerPrefix+n.toLowerCase().replace(/[^\w]+/g,"-")+'">'+t+"</h"+e+">\n"},l.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},l.prototype.list=function(t,e,n){var r=e?"ol":"ul";return"<"+r+(e&&1!==n?' start="'+n+'"':"")+">\n"+t+"</"+r+">\n"},l.prototype.listitem=function(t){return"<li>"+t+"</li>\n"},l.prototype.paragraph=function(t){return"<p>"+t+"</p>\n"},l.prototype.table=function(t,e){return"<table>\n<thead>\n"+t+"</thead>\n<tbody>\n"+e+"</tbody>\n</table>\n"},l.prototype.tablerow=function(t){return"<tr>\n"+t+"</tr>\n"},l.prototype.tablecell=function(t,e){var n=e.header?"th":"td";return(e.align?"<"+n+' style="text-align:'+e.align+'">':"<"+n+">")+t+"</"+n+">\n"},l.prototype.strong=function(t){return"<strong>"+t+"</strong>"},l.prototype.em=function(t){return"<em>"+t+"</em>"},l.prototype.codespan=function(t){return"<code>"+t+"</code>"},l.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},l.prototype.del=function(t){return"<del>"+t+"</del>"},l.prototype.link=function(t,e,n){if(this.options.sanitize){try{var r=decodeURIComponent(c(t)).replace(/[^\w:]/g,"").toLowerCase()}catch(t){return n}if(0===r.indexOf("javascript:")||0===r.indexOf("vbscript:")||0===r.indexOf("data:"))return n}this.options.baseUrl&&!d.test(t)&&(t=p(this.options.baseUrl,t));var i='<a href="'+t+'"';return e&&(i+=' title="'+e+'"'),i+=">"+n+"</a>"},l.prototype.image=function(t,e,n){this.options.baseUrl&&!d.test(t)&&(t=p(this.options.baseUrl,t));var r='<img src="'+t+'" alt="'+n+'"';return e&&(r+=' title="'+e+'"'),r+=this.options.xhtml?"/>":">"},l.prototype.text=function(t){return t},u.prototype.strong=u.prototype.em=u.prototype.codespan=u.prototype.del=u.prototype.text=function(t){return t},u.prototype.link=u.prototype.image=function(t,e,n){return""+n},u.prototype.br=function(){return""},s.parse=function(t,e){return new s(e).parse(t)},s.prototype.parse=function(t){this.inline=new o(t.links,this.options),this.inlineText=new o(t.links,m({},this.options,{renderer:new u})),this.tokens=t.reverse();for(var e="";this.next();)e+=this.tok();return e},s.prototype.next=function(){return this.token=this.tokens.pop()},s.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},s.prototype.parseText=function(){for(var t=this.token.text;"text"===this.peek().type;)t+="\n"+this.next().text;return this.inline.output(t)},s.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,c(this.inlineText.output(this.token.text)));case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var t,e,n,r,i="",o="";for(n="",t=0;t<this.token.header.length;t++)n+=this.renderer.tablecell(this.inline.output(this.token.header[t]),{header:!0,align:this.token.align[t]});for(i+=this.renderer.tablerow(n),t=0;t<this.token.cells.length;t++){for(e=this.token.cells[t],n="",r=0;r<e.length;r++)n+=this.renderer.tablecell(this.inline.output(e[r]),{header:!1,align:this.token.align[r]});o+=this.renderer.tablerow(n)}return this.renderer.table(i,o);case"blockquote_start":for(o="";"blockquote_end"!==this.next().type;)o+=this.tok();return this.renderer.blockquote(o);case"list_start":o="";for(var l=this.token.ordered,u=this.token.start;"list_end"!==this.next().type;)o+=this.tok();return this.renderer.list(o,l,u);case"list_item_start":for(o="";"list_item_end"!==this.next().type;)o+="text"===this.token.type?this.parseText():this.tok();return this.renderer.listitem(o);case"loose_item_start":for(o="";"list_item_end"!==this.next().type;)o+=this.tok();return this.renderer.listitem(o);case"html":var s=this.token.pre||this.options.pedantic?this.token.text:this.inline.output(this.token.text);return this.renderer.html(s);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}};var h={},d=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function g(){}function m(t){for(var e,n,r=1;r<arguments.length;r++)for(n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}function v(t,e,n){if(void 0===t||null===t)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof t)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected");if(n||"function"==typeof e){n||(n=e,e=null);var i,o,l=(e=m({},v.defaults,e||{})).highlight,u=0;try{i=r.lex(t,e)}catch(t){return n(t)}o=i.length;var c=function(t){if(t)return e.highlight=l,n(t);var r;try{r=s.parse(i,e)}catch(e){t=e}return e.highlight=l,t?n(t):n(null,r)};if(!l||l.length<3)return c();if(delete e.highlight,!o)return c();for(;u<i.length;u++)!function(t){"code"!==t.type?--o||c():l(t.text,t.lang,function(e,n){return e?c(e):null==n||n===t.text?--o||c():(t.text=n,t.escaped=!0,void(--o||c()))})}(i[u])}else try{return e&&(e=m({},v.defaults,e)),s.parse(r.lex(t,e),e)}catch(t){if(t.message+="\nPlease report this to https://github.com/markedjs/marked.",(e||v.defaults).silent)return"<p>An error occurred:</p><pre>"+a(t.message+"",!0)+"</pre>";throw t}}g.exec=g,v.options=v.setOptions=function(t){return m(v.defaults,t),v},v.defaults={gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,sanitizer:null,mangle:!0,smartLists:!1,silent:!1,highlight:null,langPrefix:"lang-",smartypants:!1,headerPrefix:"",renderer:new l,xhtml:!1,baseUrl:null},v.Parser=s,v.parser=s.parse,v.Renderer=l,v.TextRenderer=u,v.Lexer=r,v.lexer=r.lex,v.InlineLexer=o,v.inlineLexer=o.output,v.parse=v,t.exports=v}(this||"undefined"!=typeof window&&window)}).call(this,n(2))},function(t,e,n){"use strict";n.r(e);var r=function(t,e){var n=v,r=m;null===n&&console.warn("computations created without a root or parent will never be disposed");var i=new u(t,e);return v=m=i,null===g?function(t){g=d,d.changes.reset(),d.updates.reset();try{t.value=t.fn(t.value),(d.changes.count>0||d.updates.count>0)&&(d.time++,w(d))}finally{g=v=m=null}}(i):i.value=i.fn(i.value),n&&n!==y&&(null===n.owned?n.owned=[i]:n.owned.push(i)),v=n,m=r,function(){if(null!==m){if(i.age===d.time){if(i.state===h)throw new Error("circular dependency");_(i)}!function(t,e){null===t.log&&(t.log=new s);b(t.log,e)}(i,m)}return i.value}};Object.defineProperty(r,"default",{value:r});var i=r;r.root=function(t){var e=v,n=0===t.length?y:new u(null,null),r=void 0,i=0===t.length?null:function(){null!==g?d.disposes.add(n):E(n)};return v=n,null===g?r=function(t,e,n){try{return null===e?t():t(e)}finally{v=n}}(t,i,e):(r=null===i?t():t(i),v=e),r},r.on=function(t,e,n,i){return Array.isArray(t)&&(t=function(t){return function(){for(var e=0;e<t.length;e++)t[e]()}}(t)),i=!!i,r(o,n);function o(n){var r=m;return t(),i?i=!1:(m=null,n=e(n),m=r),n}},r.data=function(t){var e=new l(t);return function(t){if(arguments.length>0){if(null!==g)if(e.pending!==c){if(t!==e.pending)throw new Error("conflicting changes: "+t+" !== "+e.pending)}else e.pending=t,d.changes.add(e);else null!==e.log?(e.pending=t,d.changes.add(e),x()):e.value=t;return t}return null!==m&&function(t,e){null===t.log&&(t.log=new s);b(t.log,e)}(e,m),e.value}},r.value=function(t,e){var n=r.data(t),i=-1;return function(r){if(0===arguments.length)return n();if(!(e?e(t,r):t===r)){var o=d.time;if(i===o)throw new Error("conflicting values: "+r+" is not the same as "+t);i=o,t=r,n(r)}return r}},r.freeze=function(t){var e=void 0;if(null!==g)e=t();else{(g=d).changes.reset();try{e=t(),x()}finally{g=null}}return e},r.sample=function(t){var e,n=m;return null!==n?(m=null,e=t(),m=n):e=t(),e},r.cleanup=function(t){null!==v?null===v.cleanups?v.cleanups=[t]:v.cleanups.push(t):console.warn("cleanups created without a root or parent will never be run")};var o=function(){return function(){this.time=0,this.changes=new a,this.updates=new a,this.disposes=new a}}(),l=function(){return function(t){this.value=t,this.pending=c,this.log=null}}(),u=function(){return function(t,e){this.fn=t,this.value=e,this.state=f,this.source1=null,this.source1slot=0,this.sources=null,this.sourceslots=null,this.log=null,this.owned=null,this.cleanups=null,this.age=d.time}}(),s=function(){return function(){this.node1=null,this.node1slot=0,this.nodes=null,this.nodeslots=null}}(),a=function(){function t(){this.items=[],this.count=0}return t.prototype.reset=function(){this.count=0},t.prototype.add=function(t){this.items[this.count++]=t},t.prototype.run=function(t){for(var e=this.items,n=0;n<this.count;n++)t(e[n]),e[n]=null;this.count=0},t}(),c={},f=0,p=1,h=2,d=new o,g=null,m=null,v=null,y=new u(null,null);function b(t,e){var n,r=null===e.source1?-1:null===e.sources?0:e.sources.length;null===t.node1?(t.node1=e,t.node1slot=r,n=-1):null===t.nodes?(t.nodes=[e],t.nodeslots=[r],n=0):(n=t.nodes.length,t.nodes.push(e),t.nodeslots.push(r)),null===e.source1?(e.source1=t,e.source1slot=n):null===e.sources?(e.sources=[t],e.sourceslots=[n]):(e.sources.push(t),e.sourceslots.push(n))}function x(){var t=v;d.updates.reset(),d.time++;try{w(d)}finally{g=m=null,v=t}}function w(t){var e=g,n=0;for(g=t,t.disposes.reset();0!==t.changes.count||0!==t.updates.count||0!==t.disposes.count;)if(n>0&&t.time++,t.changes.run(k),t.updates.run(_),t.disposes.run(E),n++>1e5)throw new Error("Runaway clock detected");g=e}function k(t){t.value=t.pending,t.pending=c,t.log&&C(t.log)}function C(t){var e=t.node1,n=t.nodes;if(null!==e&&S(e),null!==n)for(var r=0,i=n.length;r<i;r++)S(n[r])}function S(t){var e=d.time;t.age<e&&(t.age=e,t.state=p,d.updates.add(t),null!==t.owned&&function t(e){for(var n=0;n<e.length;n++){var r=e[n];r.age=d.time,r.state=f,null!==r.owned&&t(r.owned)}}(t.owned),null!==t.log&&C(t.log))}function _(t){if(t.state===p){var e=v,n=m;v=m=t,t.state=h,A(t,!1),t.value=t.fn(t.value),t.state=f,v=e,m=n}}function A(t,e){var n,r,i=t.source1,o=t.sources,l=t.sourceslots,u=t.cleanups,s=t.owned;if(null!==u){for(n=0;n<u.length;n++)u[n](e);t.cleanups=null}if(null!==s){for(n=0;n<s.length;n++)E(s[n]);t.owned=null}if(null!==i&&($(i,t.source1slot),t.source1=null),null!==o)for(n=0,r=o.length;n<r;n++)$(o.pop(),l.pop())}function $(t,e){var n,r,i=t.nodes,o=t.nodeslots;-1===e?t.node1=null:(n=i.pop(),r=o.pop(),e!==i.length&&(i[e]=n,o[e]=r,-1===r?n.source1slot=e:n.sourceslots[r]=e))}function E(t){t.fn=null,t.log=null,A(t,!0)}var T=3;function L(t,e){var n=t.start.parentNode,r=t.start,o=null,l=typeof e;for("string"===l||"number"===l?(e=e.toString(),r.nodeType===T?(r.data=e,o=r):(e=document.createTextNode(e),n.replaceChild(e,r),t.end===r&&(t.end=e),t.start=o=e)):e instanceof Node?(r!==e&&(n.replaceChild(e,r),t.end===r&&(t.end=e),t.start=e),o=e):Array.isArray(e)?function e(i){for(var l=0,u=i.length;l<u;l++){var s=i[l];o===t.end?s instanceof Node?o=t.end=o.nextSibling?n.insertBefore(s,o.nextSibling):n.appendChild(s):s instanceof Array?e(s):null!==s&&void 0!==s&&!1!==s&&!0!==s&&(s=document.createTextNode(s.toString()),o=t.end=o.nextSibling?n.insertBefore(s,o.nextSibling):n.appendChild(s)):s instanceof Node?(r!==s?null===o?(t.end===s&&(t.end=s.previousSibling),n.replaceChild(s,r),t.start=s,t.end===r&&(t.end=s),r=s.nextSibling):r.nextSibling===s&&r!==s.nextSibling&&r!==t.end?(n.removeChild(r),r=s.nextSibling):(t.end===s&&(t.end=s.previousSibling),n.insertBefore(s,r)):r=r.nextSibling,o=s):s instanceof Array?e(s):null!==s&&void 0!==s&&!0!==s&&!1!==s&&(s=s.toString(),r.nodeType===T?(r.data=s,null===o&&(t.start=r),r=(o=r).nextSibling):(s=document.createTextNode(s),n.insertBefore(s,r),null===o&&(t.start=s),o=s))}}(e):e instanceof Function?(i(function(){L(t,e())}),o=t.end):null!==e&&void 0!==e&&!0!==e&&!1!==e&&(e=e.toString(),r.nodeType===T?(r.data=e,o=r):(e=document.createTextNode(e),n.replaceChild(e,r),t.end===r&&(t.end=e),t.start=o=e)),null===o&&(t.start===n.firstChild&&t.end===n.lastChild&&t.start!==t.end?(n.textContent="",e=document.createTextNode(""),n.appendChild(e),o=t.start=t.end=e):r.nodeType===T?(r.data="",o=r):(e=document.createTextNode(""),n.replaceChild(e,r),t.end===r&&(t.end=e),t.start=o=e));o!==t.end;)r=t.end,t.end=r.previousSibling,n.removeChild(r);return t}function P(t,e,n){var r=typeof e;if(n===e);else if("string"===r)n=""!==n&&"string"==typeof n?t.firstChild.data=e:t.textContent=e;else if("number"===r)e=e.toString(),n=""!==n&&"string"==typeof n?t.firstChild.data=e:t.textContent=e;else if(null==e||"boolean"===r)B(t),n="";else if("function"===r)i(function(){n=P(t,e(),n)});else if(e instanceof Node)Array.isArray(n)?0===n.length?t.appendChild(e):1===n.length?t.replaceChild(e,n[0]):(B(t),t.appendChild(e)):""===n?t.appendChild(e):t.replaceChild(e,t.firstChild),n=e;else{if(!Array.isArray(e))throw new Error("content must be Node, stringable, or array of same");var o=function t(e,n){for(var r=0,i=n.length;r<i;r++){var o=n[r];o instanceof Node?e.push(o):null==o||!0===o||!1===o||(Array.isArray(o)?t(e,o):"string"==typeof o?e.push(o):e.push(o.toString()))}return e}([],e);0===o.length?B(t):Array.isArray(n)?0===n.length?M(t,o,0,o.length):U(t,n,o):""===n?M(t,o,0,o.length):U(t,[t.firstChild],o),n=o}return n}var q=-1,O=-2,z=0,N=16,j=1<<N,R=j-1;function U(t,e,n){var r,i,o,l=n.length,u=0,s=e.length-1,a=0,c=l-1,f=e[u],p=n[a],h=e[s],d=n[c],g=h.nextSibling,m=!0;t:for(;m;){for(m=!1;D(p,f,a,n);){if(u++,++a>c||u>s)break t;p=n[a],f=e[u]}for(;D(d,h,c,n);){if(g=h,s--,a>--c||u>s)break t;d=n[c],h=e[s]}for(;D(p,h,a,n);){if(m=!0,t.insertBefore(h,f),s--,++a>c||u>s)break t;p=n[a],h=e[s]}for(;D(d,f,c,n);){if(m=!0,null===g?t.appendChild(f):t.insertBefore(f,g),g=f,u++,a>--c||u>s)break t;d=n[c],f=e[u]}}if(a>c)for(;u<=s;)t.removeChild(e[s]),s--;else if(u>s)for(;a<=c;)Z(t,n[a],g,a,n),a++;else{var v=[];for(r=u,i=(u<<N)+(z=(z+1)%j);r<=s;r++,i+=j)void 0===(f=e[r]).__surplus_order?Object.defineProperty(f,"__surplus_order",{value:i,writable:!0}):f.__surplus_order=i,f instanceof Text&&v.push(r);var y=new Array(c-a+1),b=[],x=0;for(r=a;r<=c;r++)"string"==typeof(p=n[r])?(b.push(r),y[r-a]=q):void 0!==(i=p.__surplus_order)&&(i&R)===z?(i>>=N,y[r-a]=i,e[i]=null,x++):y[r-a]=q;if(0!==x||0!==u||s!==e.length-1){var w=function(t){for(var e=[],n=[],r=-1,i=new Array(t.length),o=0,l=t.length;o<l;o++){var u=t[o];if(!(u<0)){var s=F(e,u);-1!==s&&(i[o]=n[s]),s===r?(e[++r]=u,n[r]=o):u<e[s+1]&&(e[s+1]=u,n[s+1]=o)}}for(o=n[r];r>=0;o=i[o],r--)e[r]=o;return e}(y);for(r=0;r<w.length;r++)y[w[r]]=O;var k=0,C=0,S=0;for(r=0,i=0,o=0;r<b.length;r++){for(k=b[r];i<w.length&&(C=w[i])<k-a;)i++;for(;o<v.length&&(S=v[o],0!==i)&&S<y[w[i-1]];)o++;o<v.length&&(i===w.length||S<y[C])?(f=e[S],p=n[k],f.data!==p&&(f.data=p),e[S]=null,n[k]=f,y[k]=O,o++):n[k]=document.createTextNode(n[k])}for(;u<=s;)null!==(f=e[u])&&t.removeChild(f),u++;for(;a<=c;)d=n[c],y[c-a]!==O&&(null===g?t.appendChild(d):t.insertBefore(d,g)),g=d,c--}else for(B(t);a<=c;)Z(t,n[a],null,a,n),a++}}function D(t,e,n,r){return t===e||"string"==typeof t&&e instanceof Text&&(e.data!==t&&(e.data=t),r[n]=e,!0)}function M(t,e,n,r){for(var i;n<r;n++)(i=e[n])instanceof Node?t.appendChild(i):(i=e[n]=document.createTextNode(i),t.appendChild(i))}function Z(t,e,n,r,i){"string"==typeof e&&(e=i[r]=document.createTextNode(e)),null===n?t.appendChild(e):t.insertBefore(e,n)}function B(t){t.textContent=""}function F(t,e){var n=-1,r=t.length;if(r>0&&t[r-1]<=e)return r-1;for(;r-n>1;){var i=Math.floor((n+r)/2);t[i]>e?r=i:n=i}return n}function I(t,e,n){var r=document.createElement(t);return e&&(r.className=e),n&&n.appendChild(r),r}function G(t,e){var n=document.createTextNode(t);return e.appendChild(n),n}var H={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};new RegExp("^("+Object.keys(H).join("|")+")-(.*)");var W=function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function l(t){try{s(r.next(t))}catch(t){o(t)}}function u(t){try{s(r.throw(t))}catch(t){o(t)}}function s(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(l,u)}s((r=r.apply(t,e||[])).next())})};const X=(t,e)=>{return{user:{get:()=>n("GET","/user"),put:t=>n("PUT","/user",{user:t})},login:{post:(t,e)=>n("POST","/users/login",{user:{email:t,password:e}})},users:{post:(t,e,r)=>n("POST","/users",{user:{username:t,email:e,password:r}})},profiles:{get:t=>n("GET",`/profiles/${t}`)},follow:{post:t=>n("POST",`/profiles/${t}/follow`),del:t=>n("DELETE",`/profiles/${t}/follow`)},articles:{get:(t={})=>n("GET","/articles"+J(t)),post:t=>n("POST","/articles",{article:t})},article:{get:t=>n("GET",`/articles/${t}`),put:t=>n("PUT",`/articles/${t.slug}`,{article:t}),del:t=>n("DELETE",`/articles/${t}`)},comments:{get:t=>n("GET",`/articles/${t}/comments`),post:(t,e)=>n("POST",`/articles/${t}/comments`,{comment:{body:e}})},comment:{del:(t,e)=>n("DELETE",`/articles/${t}/comments/${e}`)},feed:{get:(t={})=>n("GET","/articles/feed"+J(t))},tags:{get:()=>n("GET","/tags")},favorite:{post:t=>n("POST",`/articles/${t}/favorite`),del:t=>n("DELETE",`/articles/${t}/favorite`)}};function n(n,r,i){return W(this,void 0,void 0,function*(){const o={},l={method:n,headers:o};void 0!==i&&(o["Content-Type"]="application/json",l.body=JSON.stringify(i)),e()&&(o.Authorization=`Token ${e()}`);const u=yield fetch(t+r,l);if(200!==u.status)throw u;return u.json()})}},Y=t=>t instanceof Response&&401===t.status,J=t=>Object.keys(t).filter(e=>void 0!==t[e]).map((e,n)=>`${n?"&":"?"}${e}=${t[e]}`).join("");var K=function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function l(t){try{s(r.next(t))}catch(t){o(t)}}function u(t){try{s(r.throw(t))}catch(t){o(t)}}function s(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(l,u)}s((r=r.apply(t,e||[])).next())})};const Q=(t,e,n)=>{let r=null;const o=i.data(null);return{requestCredentials:o,requireAuth:function(n){return function(){return K(this,arguments,void 0,function*(){if(!t())return yield l(),yield n(...arguments);try{return yield n(...arguments)}catch(t){if(e(t))return yield l(),yield n(...arguments);throw t}})}}};function l(){return r=r||new Promise(t=>o((e,i)=>K(this,void 0,void 0,function*(){const l=yield n(e,i);return null!==r&&(r=null,o(null),t(l)),l})))}};var V=function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function l(t){try{s(r.next(t))}catch(t){o(t)}}function u(t){try{s(r.throw(t))}catch(t){o(t)}}function s(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(l,u)}s((r=r.apply(t,e||[])).next())})};const tt=()=>{const t=window.APPCONFIG,e=i.value(null),n=(t=>(i.on(t,()=>localStorage.setItem("jwtToken",t()?t().token:""),null,!0),()=>localStorage.getItem("jwtToken")||""))(e),r=X(t.Server,n),o=()=>!!n(),l=(t,n)=>V(void 0,void 0,void 0,function*(){return e((yield r.login.post(t,n)).user)}),u=Q(o,Y,l),s=((t,{requireAuth:e})=>({user:{get:t.user.get,put:e(t.user.put)},users:t.users,profiles:t.profiles,follow:{post:e(t.follow.post),del:e(t.follow.del)},login:t.login,articles:{get:t.articles.get,post:e(t.articles.post)},article:{get:t.article.get,put:e(t.article.put),del:e(t.article.del)},comments:{get:t.comments.get,post:e(t.comments.post)},comment:{del:e(t.comment.del)},feed:{get:e(t.feed.get)},tags:t.tags,favorite:{post:e(t.favorite.post),del:e(t.favorite.del)}}))(r,u),a=(()=>{const t=i.data(window.location.hash),e=i.data(window.location.hash),n=e=>void 0===e?t():r(e,!1),r=(n,r)=>i.freeze(()=>(t(n),r&&e(n),window.location[r?"assign":"replace"](n),n));n.change=(t=>void 0===t?e():r(t,!0));const o=()=>i.freeze(()=>{(window.location.hash||"#")!==t()&&t(e(window.location.hash))});return window.addEventListener("hashchange",o),i.cleanup(()=>window.removeEventListener("hashchange",o)),n})();return Object.assign({user:e,isAuthenticated:o,login:l,logout:()=>V(void 0,void 0,void 0,function*(){e(null)})},u,{location:a,client:s,init:function(){return V(this,void 0,void 0,function*(){if(!n())return;const t=yield r.user.get();e(t.user)})}()})};function et(t,e,n){var r=e||"input",o=void 0===e||e,l=void 0===n?!0!==o&&null:n;return function(e){if(e instanceof HTMLInputElement){var n=e.type.toUpperCase();"CHECKBOX"===n?function(t,e,n,r){function o(){return e(t.checked?n:r),!0}i(function(){t.checked=e()===n}),t.addEventListener("change",o,!1),i.cleanup(function(){t.removeEventListener("change",o)})}(e,t,o,l):"RADIO"===n?function(t,e,n){function r(){return t.checked&&e(n),!0}i(function(){t.checked=e()===n}),t.addEventListener("change",r,!1),i.cleanup(function(){t.removeEventListener("change",r)})}(e,t,o):nt(e,t,r)}else if(e instanceof HTMLSelectElement||e instanceof HTMLTextAreaElement)nt(e,t,r);else{if(!e.isContentEditable)throw new Error("@data can only be applied to a form control element, \nsuch as <input/>, <textarea/> or <select/>, or to an element with 'contentEditable' set.  Element ``"+e.nodeName+"'' is \nnot such an element.  Perhaps you applied it to the wrong node?");!function(t,e,n){function r(){var n=rt(i.sample(e)),r=t.textContent;return n!==r&&e(r),!0}i(function(){t.textContent=rt(e())}),t.addEventListener(n,r,!1),i.cleanup(function(){t.removeEventListener(n,r)})}(e,t,r)}}}function nt(t,e,n){function r(){var n=rt(i.sample(e)),r=t.value;return n!==r&&e(r),!0}i(function(){t.value=rt(e())}),t.addEventListener(n,r,!1),i.cleanup(function(){t.removeEventListener(n,r)})}function rt(t){return null==t?"":t.toString()}const it=({app:t,section:e,title:n,children:r})=>(ot(n),function(){var n,o,l,u;return o=G("",n=I("div","page",null)),l=G("",n),u=G("",n),i(function(n){return L(n,lt({section:e,app:t}))},{start:o,end:o}),i(function(t){return L(t,r)},{start:l,end:l}),i(function(t){return L(t,st({}))},{start:u,end:u}),n}()),ot=t=>{const e=document.head.querySelector("title"),n=e.textContent;return i(()=>{const r="function"==typeof t?t():t;r&&(e.textContent=r,i.cleanup(()=>e.textContent=n))})},lt=({section:t,app:{user:e,isAuthenticated:n}})=>(function(){var r,o,l,u,s,a;return(l=I("a","navbar-brand",o=I("div","container",r=I("nav","navbar navbar-light",null)))).href="#",l.textContent="conduit",s=G("",u=I("ul","nav navbar-nav pull-xs-right",o)),a=G("",u),i(function(e){return L(e,ut({href:"#",active:0===t,children:"Home"}))},{start:s,end:s}),i(function(r){return L(r,n()?[ut({href:"#/editor",active:1===t,children:[I("i","ion-compose",null)," New Article"]}),ut({href:"#/settings",active:2===t,children:[I("i","ion-gear-a",null)," Settings"]}),e()&&ut({href:`#/@${e().username}`,active:3===t,children:[e().image&&function(){var t;return t=I("img","user-pic",null),i(function(){t.src=e().image}),t}(),e().username]})]:[ut({href:"#/login",active:4===t,children:"Sign in"}),ut({href:"#/register",active:5===t,children:"Sign up"})])},{start:a,end:a}),r})(),ut=({active:t,href:e,children:n})=>(function(){var r,o;return r=I("li","nav-item",null),P(o=I("a",null,r),n,""),i(function(){o.className="nav-link "+(t?"active":""),o.href=e}),r})(),st=()=>(function(){var t,e,n,r,i;return(n=I("a","logo-font",e=I("div","container",t=I("footer",null,null)))).href="/",n.textContent="conduit",G("An interactive learning project from ",r=I("span","attribution",e)),(i=I("a",null,r)).href="https://thinkster.io",i.textContent="Thinkster",G(". Code & design licensed under MIT.",r),t})(),at=({request:t})=>{const e=i.value(null);return i.on(t,()=>{e(null),t()&&t().catch(t=>{throw t instanceof Response&&422===t.status&&t.json().then(e),t})}),function(){var t;return t=I("ul","error-messages",null),i(function(n){return P(t,e()&&Object.keys(e().errors).map(t=>e().errors[t].map(e=>(function(){var n,r,o;return r=G("",n=I("li",null,null)),G(" ",n),o=G("",n),i(function(e){return L(e,t)},{start:r,end:r}),i(function(t){return L(t,e)},{start:o,end:o}),n})())),n)},""),i(function(){t.hidden=!e()}),t}()};var ct=function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function l(t){try{s(r.next(t))}catch(t){o(t)}}function u(t){try{s(r.throw(t))}catch(t){o(t)}}function s(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(l,u)}s((r=r.apply(t,e||[])).next())})};const ft=(t,e)=>{const n=i.data(""),r=i.data(""),o=i.data(null);return{app:t,email:n,password:r,request:o,submit:()=>(o((t.requestCredentials()||t.login)(n(),r())).then(t=>e&&e()),!1)}},pt=t=>it({app:t.app,title:"Sign in - Conduit",section:4,children:ht(t)}),ht=t=>(function(){var e,n,r,o,l,u,s,a,c;return I("h1","text-xs-center",n=I("div","col-md-6 offset-md-3 col-xs-12",I("div","row",I("div","container page",e=I("div","auth-page",null))))).textContent="Sign in",(r=I("a",null,I("p","text-xs-center",n))).href="#/register",r.textContent="Need an account?",o=G("",n),(l=I("form",null,n)).onsubmit=t.submit,u=I("fieldset","form-group",l),(s=I("input","form-control form-control-lg",u)).type="text",s.placeholder="Email",a=I("fieldset","form-group",l),(c=I("input","form-control form-control-lg",a)).type="password",c.placeholder="Password",I("button","btn btn-lg btn-primary pull-xs-right",l).textContent="Sign in",i(function(e){return L(e,at({request:t.request}))},{start:o,end:o}),i(function(e){return et(t.email)(s,e)}),i(function(e){return et(t.password)(c,e)}),e})(),dt=({app:t,children:e})=>(function(){var n;return n=I("div","app",null),i(function(r){return P(n,t.requestCredentials()?(t=>pt(ft(t,()=>null)))(t):e(),r)},""),n})();function gt({task:t,placeholder:e="Loading ...",children:n}){const r=i.value(null);return i(()=>{r(null),t().then(r)}),()=>r()?n(r()):e}function mt({size:t,feed:e,children:n,loading:r="Loading...",empty:o="No items."}){const l=i.value(0);return gt({task:i(()=>e(l())),placeholder:r,children:e=>0===e.items.length?o:e.items.map(n).concat(function({size:t,total:e,page:n}){const r=[...Array(Math.ceil(e/t)).keys()];return function(){var t,e;return t=I("nav",null,null),e=I("ul","pagination",t),i(function(t){return P(e,r.length>1&&r.map(t=>(function(){var e,r;return e=I("li",null,null),(r=I("a","page-link",e)).href="",P(r,t+1,""),i(function(){e.className="page-item "+(t===n()?"active":""),e.onclick=(()=>(n(t),!1))}),e})()),t)},""),t}()}({size:t,total:e.total,page:l}))})}var vt=function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function l(t){try{s(r.next(t))}catch(t){o(t)}}function u(t){try{s(r.throw(t))}catch(t){o(t)}}function s(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(l,u)}s((r=r.apply(t,e||[])).next())})};const yt=(t,e,n)=>{let r=i.value(!1),o=i.value(0),l=Promise.resolve(null),u=i.data(0),s=()=>u()?r():t(),a=()=>u()?o():e();return{on:s,count:a,toggle:()=>i.sample(()=>vt(void 0,void 0,void 0,function*(){const t=r(!s());o(a()+(t?1:-1)),u(u()+1),l=l.then(()=>n(t));try{yield l}finally{u(u()-1)}})),saving:()=>u()>0}},bt=(t,e)=>yt(()=>t().favorited,()=>t().favoritesCount,n=>e.favorite[n?"post":"del"](t().slug).then(e=>t(e.article))),xt=t=>(function(){var e;return e=I("ul","tag-list",null),i(function(n){return P(e,t.map(t=>(function(){var e;return P(e=I("li","tag-default tag-pill tag-outline",null),t,""),e})()),n)},""),e})(),wt=({tab:t,children:e})=>(function(){var n,r;return n=I("div","articles-toggle",null),r=I("ul","nav nav-pills outline-active",n),i(function(n){return P(r,Object.keys(e).map(n=>(function(){var r,o;return r=I("li","nav-item",null),P(o=I("a",null,r),e[n],""),i(function(){o.className=`nav-link ${t()===n?"active":""}`,o.href="",o.onclick=(()=>(t(n),!1))}),r})()),n)},""),n})(),kt=({size:t,feed:e,client:n})=>mt({size:t,feed:n=>e({offset:n*t,limit:t}).then(t=>({items:t.articles,total:t.articlesCount})),loading:function(){var t;return(t=I("div","article-preview",null)).textContent="Loading articles...",t}(),empty:function(){var t;return(t=I("div","article-preview",null)).textContent="No articles are here... yet.",t}(),children:t=>Ct(i.data(t),n)}),Ct=(t,e)=>(function(){var n,r,o,l,u,s,a,c,f,p,h,d,g,m;return r=I("div","article-meta",n=I("div","article-preview",null)),o=I("a",null,r),l=I("img",null,o),u=I("div","info",r),a=G("",s=I("a","author",u)),c=G("",s),f=I("span","date",u),p=G("",r),h=I("a","preview-link",n),d=I("h1",null,h),g=I("p",null,h),I("span",null,h).textContent="Read more...",m=G("",h),i(function(){l.src=t().author.image||"//:0",l.alt=t().author.username}),i(function(){o.href=`#/@${t().author.username}`}),i(function(e){return L(e,t().author.username)},{start:a,end:a}),i(function(t){return L(t," ")},{start:c,end:c}),i(function(){s.href=`#/@${t().author.username}`}),i(function(e){return P(f,new Date(t().createdAt).toDateString(),e)},""),i(function(n){return L(n,((t,e)=>{const{on:n,count:r,toggle:o,saving:l}=bt(t,e);return function(){var t,e;return I("i","ion-heart",t=I("button",null,null)),G(" ",t),e=G("",t),i(function(t){return L(t,r())},{start:e,end:e}),i(function(){t.className=`btn ${n()?"btn-primary":"btn-outline-primary"} ${l()?"disabled":""} btn-sm pull-xs-right`,t.type="button",t.onclick=o}),t}()})(t,e))},{start:p,end:p}),i(function(e){return P(d,t().title,e)},""),i(function(e){return P(g,t().description,e)},""),i(function(e){return L(e,xt(t().tagList))},{start:m,end:m}),i(function(){h.href=`#/article/${t().slug}`}),n})();var St=function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function l(t){try{s(r.next(t))}catch(t){o(t)}}function u(t){try{s(r.throw(t))}catch(t){o(t)}}function s(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(l,u)}s((r=r.apply(t,e||[])).next())})};const _t=t=>{const e=i.data(i.sample(t.isAuthenticated)?"your":"all"),n=()=>"#"===e()[0]?e().substr(1):void 0,r=t.client.tags.get();return{app:t,tab:e,tag:n,feed:()=>{const r="your"===e()?t.client.feed:t.client.articles,i=n()?{tag:n()}:{};return t=>r.get(Object.assign({},t,i))},tags:r}},At=t=>it({app:t.app,title:"Home - Conduit",section:0,children:$t(t)}),$t=({tab:t,tag:e,feed:n,tags:r,app:{isAuthenticated:o,client:l}})=>(function(){var u,s,a,c,f,p,h,d,g;return u=I("div","home-page",null),I("h1","logo-font",a=I("div","container",s=I("div","banner",u))).textContent="conduit",I("p",null,a).textContent="A place to share your knowledge.",p=G("",f=I("div","col-md-9",c=I("div","row",I("div","container page",u)))),h=G("",f),I("p",null,d=I("div","sidebar",I("div","col-md-3",c))).textContent="Popular Tags",g=G("",d),i(function(){s.hidden=o()}),i(function(n){return L(n,wt({tab:t,children:Object.assign({},o()?{your:"Your Feed "}:{},{all:"Global Feed"},e()?{[t()]:[I("i","ion-pound",null)," ",e()]}:{})}))},{start:p,end:p}),i(function(t){return L(t,kt({size:10,feed:n(),client:l}))},{start:h,end:h}),i(function(e){return L(e,gt({task:()=>r,placeholder:"Loading tags...",children:e=>(function(){var n;return n=I("div","tag-list",null),i(function(r){return P(n,e.tags.map(e=>(function(){var n;return P(n=I("a","tag-pill tag-default",null),e,""),i(function(){n.href="",n.onclick=(()=>(t("#"+e),!1))}),n})()),r)},""),n})()}))},{start:g,end:g}),u})();var Et=function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function l(t){try{s(r.next(t))}catch(t){o(t)}}function u(t){try{s(r.throw(t))}catch(t){o(t)}}function s(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(l,u)}s((r=r.apply(t,e||[])).next())})};const Tt=(t,e)=>{const n=i.data(""),r=i.data(""),o=i.data(""),l=i.data(null);return{app:t,name:n,email:r,password:o,register:function(){return Et(this,void 0,void 0,function*(){yield l(t.client.users.post(n(),r(),o())),e()})},request:l}},Lt=t=>it({app:t.app,title:"Sign up - Conduit",section:5,children:Pt(t)}),Pt=({name:t,email:e,request:n,password:r,register:o})=>(function(){var l,u,s,a,c,f,p,h,d,g,m,v;return I("h1","text-xs-center",u=I("div","col-md-6 offset-md-3 col-xs-12",I("div","row",I("div","container page",l=I("div","auth-page",null))))).textContent="Sign up",(s=I("a",null,I("p","text-xs-center",u))).href="#/login",s.textContent="Have an account?",a=G("",u),f=I("fieldset","form-group",c=I("form",null,u)),(p=I("input","form-control form-control-lg",f)).type="text",p.placeholder="Username",h=I("fieldset","form-group",c),(d=I("input","form-control form-control-lg",h)).type="text",d.placeholder="Email",g=I("fieldset","form-group",c),(m=I("input","form-control form-control-lg",g)).type="password",m.placeholder="Password",(v=I("button","btn btn-lg btn-primary pull-xs-right",c)).type="button",v.onclick=o,v.textContent="Sign up",i(function(t){return L(t,at({request:n}))},{start:a,end:a}),i(function(e){return et(t)(p,e)}),i(function(t){return et(e)(d,t)}),i(function(t){return et(r)(m,t)}),l})();var qt=function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function l(t){try{s(r.next(t))}catch(t){o(t)}}function u(t){try{s(r.throw(t))}catch(t){o(t)}}function s(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(l,u)}s((r=r.apply(t,e||[])).next())})};const Ot=t=>qt(void 0,void 0,void 0,function*(){yield t.init;const e=t.user(),n=zt(t,e,e=>t.location.change(`#/@${e.username}`));return()=>Nt(n)}),zt=(t,e,n)=>{const r=i.data(e.image),o=i.data(e.username),l=i.data(e.bio),u=i.data(e.email),s=i.data(""),a=i.data(null);return{app:t,image:r,username:o,bio:l,email:u,password:s,request:a,update:()=>qt(void 0,void 0,void 0,function*(){const{user:e}=yield a(t.client.user.put({username:o(),image:r(),bio:l(),email:u(),password:s()||void 0}));t.user(e),n(e)})}},Nt=t=>it({app:t.app,title:"Settings - Conduit",section:2,children:jt(t)}),jt=({image:t,email:e,bio:n,username:r,password:o,update:l,request:u})=>(function(){var s,a,c,f,p,h,d,g,m,v,y,b,x,w,k,C;return I("h1","text-xs-center",a=I("div","col-md-6 offset-md-3 col-xs-12",I("div","row",I("div","container page",s=I("div","settings-page",null))))).textContent="Your Settings",c=G("",a),p=I("fieldset","form-group",f=I("fieldset",null,I("form",null,a))),(h=I("input","form-control",p)).type="text",h.placeholder="URL of profile picture",d=I("fieldset","form-group",f),(g=I("input","form-control form-control-lg",d)).type="text",g.placeholder="Username",m=I("fieldset","form-group",f),(v=I("textarea","form-control form-control-lg",m)).rows=8,v.placeholder="Short bio about you",y=I("fieldset","form-group",f),(b=I("input","form-control form-control-lg",y)).type="text",b.placeholder="Email",x=I("fieldset","form-group",f),(w=I("input","form-control form-control-lg",x)).type="password",w.placeholder="New Password",(k=I("button","btn btn-lg btn-primary pull-xs-right",f)).type="button",k.onclick=l,k.textContent="Update Settings",I("hr",null,a),(C=I("a","btn btn-outline-danger",a)).href="#/logout",C.textContent="Or click here to logout.",i(function(t){return L(t,at({request:u}))},{start:c,end:c}),i(function(e){return et(t)(h,e)}),i(function(t){return et(r)(g,t)}),i(function(t){return et(n)(v,t)}),i(function(t){return et(e)(b,t)}),i(function(t){return et(o)(w,t)}),s})();var Rt=function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function l(t){try{s(r.next(t))}catch(t){o(t)}}function u(t){try{s(r.throw(t))}catch(t){o(t)}}function s(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(l,u)}s((r=r.apply(t,e||[])).next())})};const Ut=(t,e)=>Rt(void 0,void 0,void 0,function*(){const n=e?(yield t.client.article.get(e)).article:null,r=Dt(t,n,e=>t.location.change(`#/article/${e.slug}`));return()=>Mt(r)}),Dt=(t,e,n)=>{const r=i.value(e?e.title:""),o=i.value(e?e.description:""),l=i.value(e?e.body:""),u=i.value(e?e.tagList.join(" "):""),s=()=>u().match(/\S+/g)||[],a=i.data(null);return{app:t,title:r,description:o,body:l,tags:u,tagList:s,request:a,publish:()=>{const i={title:r(),description:o(),body:l(),tagList:s()},u=e?t.client.article.put(Object.assign({},e,i)):t.client.articles.post(i);return a(u),u.then(t=>n(t.article)),!1}}},Mt=t=>it({app:t.app,title:"Editor - Conduit",section:1,children:Zt(t)}),Zt=({title:t,description:e,body:n,tags:r,tagList:o,publish:l,request:u})=>(function(){var s,a,c,f,p,h,d,g,m,v,y,b,x,w;return c=G("",a=I("div","col-md-10 offset-md-1 col-xs-12",I("div","row",I("div","container page",s=I("div","editor-page",null))))),p=I("fieldset","form-group",f=I("fieldset",null,I("form",null,a))),(h=I("input","form-control form-control-lg",p)).type="text",h.placeholder="Article Title",d=I("fieldset","form-group",f),(g=I("input","form-control",d)).type="text",g.placeholder="What's this article about?",m=I("fieldset","form-group",f),(v=I("textarea","form-control",m)).rows=8,v.placeholder="Write your article (in markdown)",y=I("fieldset","form-group",f),(b=I("input","form-control",y)).type="text",b.placeholder="Enter tags",x=G("",y),(w=I("button","btn btn-lg pull-xs-right btn-primary",f)).type="button",w.onclick=l,w.textContent="Publish Article",i(function(t){return L(t,at({request:u}))},{start:c,end:c}),i(function(e){return et(t)(h,e)}),i(function(t){return et(e)(g,t)}),i(function(t){return et(n)(v,t)}),i(function(t){return et(r)(b,t)}),i(function(t){return L(t,xt(o()))},{start:x,end:x}),s})();function Bt(t){var e=t;return e.concat=ne,e.every=oe,e.filter=ee,e.find=Kt,e.forEach=Wt,e.includes=Qt,e.map=Jt,e.sort=Vt,e.reduce=re,e.reduceRight=ie,e.reverse=ue,e.slice=se,e.some=le,e.mapS=It,e.mapSample=Gt,e.mapSequentially=Ht,e.orderBy=te,e}function Ft(t,e,n,r){var o=[],l=[],u=[],s=0;return i(function(){i.cleanup(function(){u.forEach(function(t){t()})})}),i.on(t,function(){var a,c,f,p,h=t(),d=h.length,g=new Array(d),m=new Array(d),v=null,y=null;r&&(v=[],y=[]);t:for(a=0,f=0;a<s;a++){for(p=o[a],c=0;c<d;c++,f=(f+1)%d)if(p===h[f]&&!g.hasOwnProperty(f.toString())){g[f]=l[a],m[f]=u[a],r&&a!==f&&(v.push(a),y.push(f)),f=(f+1)%d;continue t}n&&n(p,l[a](),a),u[a]()}for(r&&v.length&&r(o,l,v,y),a=0;a<d;a++)g.hasOwnProperty(a.toString())?(l[a]=g[a],u[a]=m[a]):l[a]=i.root(b);return s=l.length=d,o=h.slice(),l;function b(t){u[a]=t;var n=h[a],r=a;return i(function(t){return e(n,t,r)},void 0)}})}function It(t,e,n){var r=Bt(Ft(this,t,e,n));return r.combine=Yt,r}function Gt(t,e,n){return Bt(function(t,e,n,r){var o=[],l=[],u=[],s=0;return i(function(){i.cleanup(function(){u.forEach(function(t){t()})})}),i.on(t,function(){var a,c,f,p,h,d,g,m,v,y,b=t(),x=b.length,w=null,k=null;if(0===x){if(0!==s){if(void 0!==n)for(h=0;h<s;h++)y=o[h],n(y,l[h],h),u[h]();else for(h=0;h<s;h++)u[h]();o=[],l=[],u=[],s=0}}else if(0===s){for(d=0;d<x;d++)o[d]=b[d],l[d]=i.root(C);s=x}else{for(a=new Map,f=new Array(x),p=new Array(x),r&&(w=[],k=[]),g=0,m=Math.min(s,x);g<m&&o[g]===b[g];g++);for(m=s-1,v=x-1;m>=0&&v>=0&&o[m]===b[v];m--,v--)f[v]=l[m],p[v]=u[m];for(d=v;d>=g;d--)y=b[d],void 0===(c=a.get(y))?a.set(y,[d]):c.push(d);for(h=g;h<=m;h++)y=o[h],void 0!==(c=a.get(y))&&c.length>0?(f[d=c.pop()]=l[h],p[d]=u[h],r&&h!==d&&(w.push(h),k.push(d))):(n&&n(y,l[h],h),u[h]());if(r&&(0!==w.length||m!==s-1)){for(m++,v++;m<s;)w.push(m++),k.push(v++);r(o,l,w,k)}for(d=g;d<x;d++)f.hasOwnProperty(d)?(l[d]=f[d],u[d]=p[d]):l[d]=i.root(C);s=l.length=x,o=b.slice()}return l;function C(t){return u[d]=t,e(b[d],l[d],d)}})}(this,t,e,n))}function Ht(t){return Bt(function(t,e){var n=[];return i(function(){for(var r=t(),i=0;i<r.length;i++)n[i]=e(r[i],n[i],i);return n.length>r.length&&(n.length=r.length),n})}(this,t))}function Wt(t,e,n){return Bt(function(t,e,n,r){var o=[],l=0;return i.on(t,function(){var i,u,s,a=t(),c=a.length,f=new Array(c),p=[],h=[];t:for(d=0,u=0;d<l;d++){for(s=o[d],i=0;i<c;i++,u=(u+1)%c)if(s===a[u]&&!f[u]){f[u]=!0,d!==u&&(p.push(d),h.push(u)),u=(u+1)%c;continue t}n&&n(s,d)}r&&p.length&&r(p,h);for(var d=0;d<c;d++)f[d]||e(a[d],d);return l=c,o=a.slice()})}(this,t,e,n))}function Xt(t){return i(function(){for(var e=t(),n=new Array(e.length),r=0;r<e.length;r++)n[r]=e[r]();return n})}function Yt(){return Bt(Xt(this))}function Jt(t,e,n){return Bt(function(t,e,n,r){return Xt(Ft(t,e,n,void 0==r?void 0:function(t,e,n,i){r(t,e.map(function(t){return t()}),n,i)}))}(this,t,e,n))}function Kt(t){return function(t,e){return i(function(){var n,r,i=t();for(n=0;n<i.length;n++)if(r=i[n],e(r))return r})}(this,t)}function Qt(t){return function(t,e){return i(function(){for(var n=t(),r=0;r<n.length;r++)if(n[r]===e)return!0;return!1})}(this,t)}function Vt(t){return Bt(function(t,e){return i(function(){var n=t().slice(0);return e?n.sort(e):n.sort(),n})}(this,t))}function te(t){return Bt(function(t,e){var n,r;return"function"!=typeof e?(n=e,r=function(t){return t[n]}):r=e,i(function(){var e=t().slice(0);return e.sort(function(t,e){return(t=r(t))<(e=r(e))?-1:t>e?1:0}),e})}(this,t))}function ee(t){return Bt(function(t,e){return i(function(){var n,r,i=t(),o=[];for(n=0;n<i.length;n++)r=i[n],e(r)&&o.push(r);return o})}(this,t))}function ne(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Bt(function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return i(function(){for(var n=t(),r=0;r<e.length;r++)n=n.concat(e[r]());return n})}.apply(void 0,[this].concat(t)))}function re(t,e){return function(t,e,n){return i(function(){for(var r=t(),i=n instanceof Function?n():n,o=0;o<r.length;o++)i=e(i,r[o],o,r);return i})}(this,t,e)}function ie(t,e){return function(t,e,n){return i(function(){for(var r=t(),i=n instanceof Function?n():n,o=r.length-1;o>=0;o--)i=e(i,r[o],o,r);return i})}(this,t,e)}function oe(t){return function(t,e){return i(function(){for(var n=t(),r=0;r<n.length;r++)if(!e(n[r]))return!1;return!0})}(this,t)}function le(t){return function(t,e){return i(function(){var n=t();if(void 0===e)return 0!==n.length;for(var r=0;r<n.length;r++)if(e(n[r]))return!0;return!1})}(this,t)}function ue(){return Bt(function(t){return i(function(){var e=t().slice(0);return e.reverse(),e})}(this))}function se(t,e){return Bt(function(t,e,n){return i(function(){return t().slice(e,n)})}(this,t,e))}var ae=n(0);const ce=(t,e)=>{const{on:n,toggle:r,saving:o}=yt(()=>t().following,()=>0,n=>e.follow[n?"post":"del"](t().username).then(e=>t(e.profile)));return function(){var e,l,u;return I("i","ion-plus-round",e=I("button",null,null)),G("  ",e),l=G("",e),G(" ",e),u=G("",e),i(function(t){return L(t,n()?"Unfollow":"Follow")},{start:l,end:l}),i(function(e){return L(e,t().username)},{start:u,end:u}),i(function(){e.className=`btn btn-sm ${n()?"btn-secondary":"btn-outline-secondary"} ${o()?"disabled":""} action-btn`,e.onclick=r}),e}()};var fe=function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function l(t){try{s(r.next(t))}catch(t){o(t)}}function u(t){try{s(r.throw(t))}catch(t){o(t)}}function s(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(l,u)}s((r=r.apply(t,e||[])).next())})};const pe=(t,e,n,r)=>{const o=i.data(e),l=i.data(e.author),u=function(t){if(!Array.isArray(t))throw new Error("SArray must be initialized with an array");var e=i.data(!1),n=[],r=0,o=0,l=0,u=i.root(function(){return i.on(e,c,t,!0)}),s=function(e){return arguments.length>0?(a(function(){t=e}),e):u()};return s.push=function(e){return a(function(){t.push(e)}),s},s.pop=function(){if(s(),o+l<t.length){var n=t[t.length-++o];return e(!0),n}},s.unshift=function(e){return a(function(){t.unshift(e)}),s},s.shift=function(){if(s(),o+l<t.length){var n=t[l++];return e(!0),n}},s.splice=function(){var e=Array.prototype.slice.call(arguments);return a(function(){Array.prototype.splice.apply(t,e)}),s},s.remove=function(e){return a(function(){for(var n=0;n<t.length;n++)if(t[n]===e){t.splice(n,1);break}}),s},s.removeAll=function(e){return a(function(){for(var n=0;n<t.length;)t[n]===e?t.splice(n,1):n++}),s},Bt(s),s;function a(t){n[r++]=t,e(!0)}function c(){o&&t.splice(t.length-o,o),l&&t.splice(0,l),o=0,l=0;for(var e=0;e<r;e++)n[e](),n[e]=null;return r=0,t}}([]),s=i.data("");return{app:t,article:o,author:l,comments:u,newCommentBody:s,postComment:()=>(t.client.comments.post(e.slug,s()).then(t=>{s(""),u.unshift(t.comment)}),!1),deleteArticle:()=>(t.client.article.del(e.slug).then(r),!1),canDeleteComment:e=>t.user()&&e.author.username===t.user().username,deleteComment:n=>(t.client.comment.del(e.slug,n.id).then(()=>{u.remove(n)}),!1)}},he=t=>it({app:t.app,title:()=>`${t.article().title||"loading..."} - Conduit`,section:6,children:de(t)}),de=t=>(function(){var e,n,r,o,l,u,s,a,c,f,p,h;return n=I("div","container",I("div","banner",e=I("div","article-page",null))),r=I("h1",null,n),o=G("",n),u=I("div","col-xs-12",I("div","row article-content",l=I("div","container page",e))),s=I("div",null,u),a=G("",u),I("hr",null,l),c=G("",I("div","article-actions",l)),p=G("",f=I("div","col-xs-12 col-md-8 offset-md-2",I("div","row",l))),h=G("",f),i(function(e){return P(r,t.article().title,e)},""),i(function(e){return L(e,ge(t))},{start:o,end:o}),i(function(e){return(e=>e.innerHTML=ae(t.article().body))(s)}),i(function(e){return L(e,xt(t.article().tagList))},{start:a,end:a}),i(function(e){return L(e,ge(t))},{start:c,end:c}),i(function(e){return L(e,t.app.isAuthenticated()?function(){var e,n,r,o,l;return(e=I("form","card comment-form",null)).onsubmit=t.postComment,n=I("div","card-block",e),(r=I("textarea","form-control",n)).placeholder="Write a comment...",r.rows=3,o=I("div","card-footer",e),l=I("img","comment-author-img",o),I("button","btn btn-sm btn-primary",o).textContent="Post Comment",i(function(e){return et(t.newCommentBody)(r,e)}),i(function(){l.src=t.app.user()&&t.app.user().image||"//:0"}),e}():function(){var t,e,n;return(e=I("a",null,t=I("p",null,null))).href="#/login",e.textContent="Sign in",G(" or ",t),(n=I("a",null,t)).href="#/register",n.textContent="sign up",G(" to add comments on this article.",t),t}())},{start:p,end:p}),i(function(e){return L(e,t.comments.map(e=>me(t,e)))},{start:h,end:h}),e})(),ge=({author:t,article:e,deleteArticle:n,app:{user:r,client:o}})=>(function(){var l,u,s,a,c,f,p;return l=I("div","article-meta",null),u=I("a",null,l),s=I("img",null,u),a=I("div","info",l),c=I("a","author",a),f=I("span","date",a),p=G("",l),i(function(){s.src=t().image||"//:0"}),i(function(){u.href=`#/@${t().username}`}),i(function(e){return P(c,t().username,e)},""),i(function(){c.href=`#/@${t().username}`}),i(function(t){return P(f,e().createdAt&&new Date(e().createdAt).toDateString(),t)},""),i(function(l){return L(l,r()&&r().username===t().username?[function(){var t;return I("i","ion-edit",t=I("a","btn btn-sm btn-outline-secondary",null)),G("  Edit Article",t),i(function(){t.href=`#/editor/${e().slug}`}),t}(),"  ",function(){var t;return(t=I("button","btn btn-sm btn-outline-danger",null)).type="button",t.onclick=n,I("i","ion-trash-a",t),G("  Delete Article",t),t}()]:[ce(t,o),"  ",((t,e)=>{const{on:n,count:r,toggle:o,saving:l}=bt(t,e);return function(){var t,e,u,s;return I("i","ion-heart",t=I("button",null,null)),G(" ",t),e=G("",t),G(" ",t),G("(",u=I("span","counter",t)),s=G("",u),G(")",u),i(function(t){return L(t,n()?"Unfavorite Article":"Favorite Article")},{start:e,end:e}),i(function(t){return L(t,r())},{start:s,end:s}),i(function(){t.className=`btn ${n()?"btn-primary":"btn-outline-primary"} ${l()?"disabled":""} btn-sm`,t.type="button",t.onclick=o}),t}()})(e,o)])},{start:p,end:p}),l})(),me=(t,e)=>(function(){var n,r,o,l,u,s;return P(I("p","card-text",I("div","card-block",n=I("div","card",null))),e.body,""),(o=I("a","comment-author",r=I("div","card-footer",n))).href=`#/@${e.author.username}`,I("img","comment-author-img",o).src=e.author.image||"//:0",G(" ",r),(l=I("a","comment-author",r)).href=`#/@${e.author.username}`,P(l,e.author.username,""),u=I("span","date-posted",r),s=G("",r),i(function(t){return P(u,new Date(e.createdAt).toDateString(),t)},""),i(function(n){return L(n,t.canDeleteComment(e)&&function(){var n,r;return n=I("span","mod-options",null),r=I("i","ion-trash-a",n),i(function(){r.onclick=(()=>t.deleteComment(e))}),n}())},{start:s,end:s}),n})();var ve=function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function l(t){try{s(r.next(t))}catch(t){o(t)}}function u(t){try{s(r.throw(t))}catch(t){o(t)}}function s(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(l,u)}s((r=r.apply(t,e||[])).next())})};const ye=(t,e,n)=>{const r=i.value(n?"favorites":"my"),o=i.data({});return t.client.profiles.get(e).then(t=>o(t.profile)),{app:t,tab:r,username:e,isUser:()=>t.user()&&t.user().username===e,profile:o,feed:()=>{const n="my"===r()?{author:e}:{favorited:e};return e=>t.client.articles.get(Object.assign({},e,n))}}},be=t=>it({app:t.app,title:`@${t.username} - Conduit`,section:t.isUser()?3:6,children:xe(t)}),xe=t=>(function(){var e,n,r,o,l;return n=G("",e=I("div","profile-page",null)),o=G("",r=I("div","col-xs-12 col-md-10 offset-md-1",I("div","row",I("div","container",e)))),l=G("",r),i(function(e){return L(e,we(t))},{start:n,end:n}),i(function(e){return L(e,wt({tab:t.tab,children:{my:"My Articles",favorites:"Favorited Articles"}}))},{start:o,end:o}),i(function(e){return L(e,kt({size:10,feed:t.feed(),client:t.app.client}))},{start:l,end:l}),e})(),we=({profile:t,isUser:e,app:{client:n,user:r}})=>(function(){var r,o,l,u,s,a;return o=I("div","col-xs-12 col-md-10 offset-md-1",I("div","row",I("div","container",r=I("div","user-info",null)))),l=I("img","user-img",o),u=I("h4",null,o),s=I("p",null,o),a=G("",o),i(function(){l.src=t().image||"//:0"}),i(function(e){return P(u,t().username,e)},""),i(function(e){return P(s,t().bio,e)},""),i(function(r){return L(r,e()?function(){var t;return(t=I("a","btn btn-sm btn-outline-secondary action-btn",null)).href="#/settings",I("i","ion-gear-a",t),G(" Edit Profile Settings",t),t}():ce(t,n))},{start:a,end:a}),r})();var ke=function(t,e,n,r){return new(n||(n=Promise))(function(i,o){function l(t){try{s(r.next(t))}catch(t){o(t)}}function u(t){try{s(r.throw(t))}catch(t){o(t)}}function s(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(l,u)}s((r=r.apply(t,e||[])).next())})};i.root(()=>{const t=tt(),e=((t,e,n)=>{const r=i.data(e),o=i(()=>r()());let l=null;return i(()=>{const e=t();for(const t of n){const n=t[0].exec(e);if(n)return void t[1](l=n).then(t=>{n===l&&r(t)})}console.warn(`No route for ${e}`)}),o})(t.location.change,()=>null,[[/^#\/@([^/]*)\/?(favorites)?/,([,e,n])=>((t,e,n)=>ve(void 0,void 0,void 0,function*(){const r=ye(t,e,n);return i(()=>t.location(`#/@${e}${"favorites"===r.tab()?"/favorites":""}`)),()=>be(r)}))(t,e,!!n)],[/^#\/article\/(.*)/,([,e])=>((t,e)=>fe(void 0,void 0,void 0,function*(){const n=t.client.comments.get(e),{article:r}=yield t.client.article.get(e),i=pe(t,r,n,()=>t.location.change("#"));return()=>he(i)}))(t,e)],[/^#\/editor\/?(.*)/,([,e])=>t.requireAuth(Ut)(t,e)],[/^#\/settings/,()=>t.requireAuth(Ot)(t)],[/^#\/login/,()=>(t=>ct(void 0,void 0,void 0,function*(){const e=ft(t,()=>t.location.change("#"));return()=>pt(e)}))(t)],[/^#\/register/,()=>(t=>Et(void 0,void 0,void 0,function*(){const e=Tt(t,()=>t.location.change("#"));return()=>Lt(e)}))(t)],[/^#?$/,()=>(t=>St(void 0,void 0,void 0,function*(){const e=_t(t);return()=>At(e)}))(t)],[/^#\/logout/,()=>(t=>ke(void 0,void 0,void 0,function*(){return yield t.logout(),t.location.change("#"),()=>null}))(t)]]);document.body.appendChild(dt({app:t,children:e}))})},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n}]);
//# sourceMappingURL=main.js.map