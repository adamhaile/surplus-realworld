{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/s-js/dist/es/S.js","webpack:///./node_modules/surplus/es/insert.js","webpack:///./node_modules/surplus/es/content.js","webpack:///./node_modules/surplus/es/dom.js","webpack:///./node_modules/surplus/es/fieldData.js","webpack:///./src/app/client.ts","webpack:///./src/app/authWatcher.ts","webpack:///./src/app/app.ts","webpack:///./src/app/configStore.ts","webpack:///./src/app/TokenStore.ts","webpack:///./src/app/authClient.ts","webpack:///./src/components/Page.tsx","webpack:///./src/components/Loading.tsx","webpack:///./src/components/Home.tsx","webpack:///./src/components/SignIn.tsx","webpack:///./src/components/Settings.tsx","webpack:///./src/components/Editor.tsx","webpack:///./src/components/Article.tsx","webpack:///./src/components/Profile.tsx","webpack:///./src/main.tsx","webpack:///./src/app/router.ts"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","r","value","n","__esModule","object","property","prototype","hasOwnProperty","p","s","S","fn","owner","Owner","running","RunningNode","console","warn","node","ComputationNode","RunningClock","RootClock","changes","reset","updates","count","time","run","toplevelComputation","UNOWNED","owned","push","age","state","RUNNING","Error","updateNode","to","log","Log","logRead","logComputationRead","es_S","root","length","result","undefined","disposer","disposes","add","dispose","topLevelRoot","on","ev","seed","onchanges","Array","isArray","ss","callAll","data","DataNode","arguments","pending","NOTPENDING","S_event","logDataRead","current","eq","update","freeze","sample","cleanup","cleanups","Clock","this","Queue","CURRENT","source1","source1slot","sources","sourceslots","node1","node1slot","nodes","nodeslots","items","item","STALE","from","fromslot","toslot","clock","applyDataChange","markComputationsStale","markNodeStale","len","markOwnedNodesForDisposal","child","final","cleanupSource","pop","source","slot","last","lastslot","insert_TEXT_NODE","insert_insert","range","parent","start","parentNode","test","good","t","toString","nodeType","document","createTextNode","replaceChild","end","Node","insertArray","array","nextSibling","insertBefore","appendChild","previousSibling","removeChild","Function","firstChild","lastChild","textContent","content_content","content_clear","content_normalizeIncomingArray","normalized","content_appendNodes","content_reconcileArrays","content_NOMATCH","content_NOINSERT","content_RECONCILE_ARRAY_BATCH","content_RECONCILE_ARRAY_BITS","content_RECONCILE_ARRAY_INC","content_RECONCILE_ARRAY_MASK","ns","us","j","k","ulen","nmin","nmax","umin","umax","u","nx","ux","ul","loop","fixes","content_equable","content_insertOrAppend","ntext","__surplus_order","writable","Text","src","utext","preserved","lcs","seq","is","pre","content_findGreatestIndexLEQ","content_longestPositiveIncreasingSubsequence","utexti","lcsj","ntextk","marker","lo","hi","mid","Math","floor","createElement","tag","className","el","text","attrNamespaces","xlink","xml","RegExp","keys","join","client_awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","e","rejected","done","then","apply","Client","server","token","user","send","put","login","post","username","password","users","email","articles","q","query","article","slug","feed","tags","favorite","del","method","url","headers","opts","body","JSON","stringify","response","fetch","status","parse","_a","client_isAuthFailure","Response","filter","map","encodeURIComponent","authWatcher_awaiter","authWatcher_AuthWatcher","hasLoggedIn","isAuthFailure","loginFn","loginTask","requestCredentials","requireAuth","app_awaiter","app_App","config","window","APPCONFIG","ConfigStore","localStorage","setItem","getItem","TokenStore_TokenStore","baseClient","Server","auth","client","AuthClient","init","Page_Page","props","__range","Page_Header","section","children","__insert2","Page_Footer","Loading_Loading","task","placeholder","__current","__","Home_HomeModel","app","tab","substr","page","limit","offset","assign","onTabClick","Home_HomePage","model","Home_Home","__div2_div1_div1_div1_ul1_insert1","__a1_insert2","__div2_div1_div1_div1_ul1_insert3","resp","author","image","title","description","__div1_div2_span2","Date","createdAt","toDateString","favoritesCount","__div1_button3_insert3","__a2_ul4","tagList","SignIn_SignIn","Settings_Settings","Editor_Editor","Article_Article","__div1_div1_div2_button3_insert3","__div1_div1_div2_button5_insert3","__div2_div3_div1_button3_insert3","__div2_div3_div1_button5_insert3","Profile_Profile","view","routes","hash","location","updateHash","_hash","route","exec","addEventListener","removeEventListener","router_Router","Profile_ProfilePage","Article_ArticlePage","Editor_EditorPage","Settings_SettingsPage","SignIn_SignInPage","Home_HomeRoute"],"mappings":"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","file":"./main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","// Public interface\nvar S = function S(fn, value) {\n    var owner = Owner, running = RunningNode;\n    if (owner === null)\n        console.warn(\"computations created without a root or parent will never be disposed\");\n    var node = new ComputationNode(fn, value);\n    Owner = RunningNode = node;\n    if (RunningClock === null) {\n        toplevelComputation(node);\n    }\n    else {\n        node.value = node.fn(node.value);\n    }\n    if (owner && owner !== UNOWNED) {\n        if (owner.owned === null)\n            owner.owned = [node];\n        else\n            owner.owned.push(node);\n    }\n    Owner = owner;\n    RunningNode = running;\n    return function computation() {\n        if (RunningNode !== null) {\n            if (node.age === RootClock.time) {\n                if (node.state === RUNNING)\n                    throw new Error(\"circular dependency\");\n                else\n                    updateNode(node); // checks for state === STALE internally, so don't need to check here\n            }\n            logComputationRead(node, RunningNode);\n        }\n        return node.value;\n    };\n};\n// compatibility with commonjs systems that expect default export to be at require('s.js').default rather than just require('s-js')\nObject.defineProperty(S, 'default', { value: S });\nexport default S;\nS.root = function root(fn) {\n    var owner = Owner, root = fn.length === 0 ? UNOWNED : new ComputationNode(null, null), result = undefined, disposer = fn.length === 0 ? null : function _dispose() {\n        if (RunningClock !== null) {\n            RootClock.disposes.add(root);\n        }\n        else {\n            dispose(root);\n        }\n    };\n    Owner = root;\n    if (RunningClock === null) {\n        result = topLevelRoot(fn, disposer, owner);\n    }\n    else {\n        result = disposer === null ? fn() : fn(disposer);\n        Owner = owner;\n    }\n    return result;\n};\nfunction topLevelRoot(fn, disposer, owner) {\n    try {\n        return disposer === null ? fn() : fn(disposer);\n    }\n    finally {\n        Owner = owner;\n    }\n}\nS.on = function on(ev, fn, seed, onchanges) {\n    if (Array.isArray(ev))\n        ev = callAll(ev);\n    onchanges = !!onchanges;\n    return S(on, seed);\n    function on(value) {\n        var running = RunningNode;\n        ev();\n        if (onchanges)\n            onchanges = false;\n        else {\n            RunningNode = null;\n            value = fn(value);\n            RunningNode = running;\n        }\n        return value;\n    }\n};\nfunction callAll(ss) {\n    return function all() {\n        for (var i = 0; i < ss.length; i++)\n            ss[i]();\n    };\n}\nS.data = function data(value) {\n    var node = new DataNode(value);\n    return function data(value) {\n        if (arguments.length > 0) {\n            if (RunningClock !== null) {\n                if (node.pending !== NOTPENDING) {\n                    if (value !== node.pending) {\n                        throw new Error(\"conflicting changes: \" + value + \" !== \" + node.pending);\n                    }\n                }\n                else {\n                    node.pending = value;\n                    RootClock.changes.add(node);\n                }\n            }\n            else {\n                if (node.log !== null) {\n                    node.pending = value;\n                    RootClock.changes.add(node);\n                    event();\n                }\n                else {\n                    node.value = value;\n                }\n            }\n            return value;\n        }\n        else {\n            if (RunningNode !== null) {\n                logDataRead(node, RunningNode);\n            }\n            return node.value;\n        }\n    };\n};\nS.value = function value(current, eq) {\n    var data = S.data(current), age = -1;\n    return function value(update) {\n        if (arguments.length === 0) {\n            return data();\n        }\n        else {\n            var same = eq ? eq(current, update) : current === update;\n            if (!same) {\n                var time = RootClock.time;\n                if (age === time)\n                    throw new Error(\"conflicting values: \" + update + \" is not the same as \" + current);\n                age = time;\n                current = update;\n                data(update);\n            }\n            return update;\n        }\n    };\n};\nS.freeze = function freeze(fn) {\n    var result = undefined;\n    if (RunningClock !== null) {\n        result = fn();\n    }\n    else {\n        RunningClock = RootClock;\n        RunningClock.changes.reset();\n        try {\n            result = fn();\n            event();\n        }\n        finally {\n            RunningClock = null;\n        }\n    }\n    return result;\n};\nS.sample = function sample(fn) {\n    var result, running = RunningNode;\n    if (running !== null) {\n        RunningNode = null;\n        result = fn();\n        RunningNode = running;\n    }\n    else {\n        result = fn();\n    }\n    return result;\n};\nS.cleanup = function cleanup(fn) {\n    if (Owner !== null) {\n        if (Owner.cleanups === null)\n            Owner.cleanups = [fn];\n        else\n            Owner.cleanups.push(fn);\n    }\n    else {\n        console.warn(\"cleanups created without a root or parent will never be run\");\n    }\n};\n// Internal implementation\n/// Graph classes and operations\nvar Clock = /** @class */ (function () {\n    function Clock() {\n        this.time = 0;\n        this.changes = new Queue(); // batched changes to data nodes\n        this.updates = new Queue(); // computations to update\n        this.disposes = new Queue(); // disposals to run after current batch of updates finishes\n    }\n    return Clock;\n}());\nvar DataNode = /** @class */ (function () {\n    function DataNode(value) {\n        this.value = value;\n        this.pending = NOTPENDING;\n        this.log = null;\n    }\n    return DataNode;\n}());\nvar ComputationNode = /** @class */ (function () {\n    function ComputationNode(fn, value) {\n        this.fn = fn;\n        this.value = value;\n        this.state = CURRENT;\n        this.source1 = null;\n        this.source1slot = 0;\n        this.sources = null;\n        this.sourceslots = null;\n        this.log = null;\n        this.owned = null;\n        this.cleanups = null;\n        this.age = RootClock.time;\n    }\n    return ComputationNode;\n}());\nvar Log = /** @class */ (function () {\n    function Log() {\n        this.node1 = null;\n        this.node1slot = 0;\n        this.nodes = null;\n        this.nodeslots = null;\n    }\n    return Log;\n}());\nvar Queue = /** @class */ (function () {\n    function Queue() {\n        this.items = [];\n        this.count = 0;\n    }\n    Queue.prototype.reset = function () {\n        this.count = 0;\n    };\n    Queue.prototype.add = function (item) {\n        this.items[this.count++] = item;\n    };\n    Queue.prototype.run = function (fn) {\n        var items = this.items;\n        for (var i = 0; i < this.count; i++) {\n            fn(items[i]);\n            items[i] = null;\n        }\n        this.count = 0;\n    };\n    return Queue;\n}());\n// Constants\nvar NOTPENDING = {}, CURRENT = 0, STALE = 1, RUNNING = 2;\n// \"Globals\" used to keep track of current system state\nvar RootClock = new Clock(), RunningClock = null, // currently running clock \nRunningNode = null, // currently running computation\nOwner = null, // owner for new computations\nUNOWNED = new ComputationNode(null, null);\n// Functions\nfunction logRead(from, to) {\n    var fromslot, toslot = to.source1 === null ? -1 : to.sources === null ? 0 : to.sources.length;\n    if (from.node1 === null) {\n        from.node1 = to;\n        from.node1slot = toslot;\n        fromslot = -1;\n    }\n    else if (from.nodes === null) {\n        from.nodes = [to];\n        from.nodeslots = [toslot];\n        fromslot = 0;\n    }\n    else {\n        fromslot = from.nodes.length;\n        from.nodes.push(to);\n        from.nodeslots.push(toslot);\n    }\n    if (to.source1 === null) {\n        to.source1 = from;\n        to.source1slot = fromslot;\n    }\n    else if (to.sources === null) {\n        to.sources = [from];\n        to.sourceslots = [fromslot];\n    }\n    else {\n        to.sources.push(from);\n        to.sourceslots.push(fromslot);\n    }\n}\nfunction logDataRead(data, to) {\n    if (data.log === null)\n        data.log = new Log();\n    logRead(data.log, to);\n}\nfunction logComputationRead(node, to) {\n    if (node.log === null)\n        node.log = new Log();\n    logRead(node.log, to);\n}\nfunction event() {\n    // b/c we might be under a top level S.root(), have to preserve current root\n    var owner = Owner;\n    RootClock.updates.reset();\n    RootClock.time++;\n    try {\n        run(RootClock);\n    }\n    finally {\n        RunningClock = RunningNode = null;\n        Owner = owner;\n    }\n}\nfunction toplevelComputation(node) {\n    RunningClock = RootClock;\n    RootClock.changes.reset();\n    RootClock.updates.reset();\n    try {\n        node.value = node.fn(node.value);\n        if (RootClock.changes.count > 0 || RootClock.updates.count > 0) {\n            RootClock.time++;\n            run(RootClock);\n        }\n    }\n    finally {\n        RunningClock = Owner = RunningNode = null;\n    }\n}\nfunction run(clock) {\n    var running = RunningClock, count = 0;\n    RunningClock = clock;\n    clock.disposes.reset();\n    // for each batch ...\n    while (clock.changes.count !== 0 || clock.updates.count !== 0 || clock.disposes.count !== 0) {\n        if (count > 0)\n            clock.time++;\n        clock.changes.run(applyDataChange);\n        clock.updates.run(updateNode);\n        clock.disposes.run(dispose);\n        // if there are still changes after excessive batches, assume runaway            \n        if (count++ > 1e5) {\n            throw new Error(\"Runaway clock detected\");\n        }\n    }\n    RunningClock = running;\n}\nfunction applyDataChange(data) {\n    data.value = data.pending;\n    data.pending = NOTPENDING;\n    if (data.log)\n        markComputationsStale(data.log);\n}\nfunction markComputationsStale(log) {\n    var node1 = log.node1, nodes = log.nodes;\n    // mark all downstream nodes stale which haven't been already\n    if (node1 !== null)\n        markNodeStale(node1);\n    if (nodes !== null) {\n        for (var i = 0, len = nodes.length; i < len; i++) {\n            markNodeStale(nodes[i]);\n        }\n    }\n}\nfunction markNodeStale(node) {\n    var time = RootClock.time;\n    if (node.age < time) {\n        node.age = time;\n        node.state = STALE;\n        RootClock.updates.add(node);\n        if (node.owned !== null)\n            markOwnedNodesForDisposal(node.owned);\n        if (node.log !== null)\n            markComputationsStale(node.log);\n    }\n}\nfunction markOwnedNodesForDisposal(owned) {\n    for (var i = 0; i < owned.length; i++) {\n        var child = owned[i];\n        child.age = RootClock.time;\n        child.state = CURRENT;\n        if (child.owned !== null)\n            markOwnedNodesForDisposal(child.owned);\n    }\n}\nfunction updateNode(node) {\n    if (node.state === STALE) {\n        var owner = Owner, running = RunningNode;\n        Owner = RunningNode = node;\n        node.state = RUNNING;\n        cleanup(node, false);\n        node.value = node.fn(node.value);\n        node.state = CURRENT;\n        Owner = owner;\n        RunningNode = running;\n    }\n}\nfunction cleanup(node, final) {\n    var source1 = node.source1, sources = node.sources, sourceslots = node.sourceslots, cleanups = node.cleanups, owned = node.owned, i, len;\n    if (cleanups !== null) {\n        for (i = 0; i < cleanups.length; i++) {\n            cleanups[i](final);\n        }\n        node.cleanups = null;\n    }\n    if (owned !== null) {\n        for (i = 0; i < owned.length; i++) {\n            dispose(owned[i]);\n        }\n        node.owned = null;\n    }\n    if (source1 !== null) {\n        cleanupSource(source1, node.source1slot);\n        node.source1 = null;\n    }\n    if (sources !== null) {\n        for (i = 0, len = sources.length; i < len; i++) {\n            cleanupSource(sources.pop(), sourceslots.pop());\n        }\n    }\n}\nfunction cleanupSource(source, slot) {\n    var nodes = source.nodes, nodeslots = source.nodeslots, last, lastslot;\n    if (slot === -1) {\n        source.node1 = null;\n    }\n    else {\n        last = nodes.pop();\n        lastslot = nodeslots.pop();\n        if (slot !== nodes.length) {\n            nodes[slot] = last;\n            nodeslots[slot] = lastslot;\n            if (lastslot === -1) {\n                last.source1slot = slot;\n            }\n            else {\n                last.sourceslots[lastslot] = slot;\n            }\n        }\n    }\n}\nfunction dispose(node) {\n    node.fn = null;\n    node.log = null;\n    cleanup(node, true);\n}\n","import { S } from './index';\nvar DOCUMENT_FRAGMENT_NODE = 11, TEXT_NODE = 3;\nexport function insert(range, value) {\n    var parent = range.start.parentNode, test = range.start, good = null, t = typeof value;\n    //if (parent === null) {\n    //    throw new Error(\"Surplus.insert() can only be used on a node that has a parent node. \\n\"\n    //        + \"Node ``\" + range.start + \"'' is currently unattached to a parent.\");\n    //}\n    //if (range.end.parentNode !== parent) {\n    //    throw new Error(\"Surplus.insert() requires that the inserted nodes remain sibilings \\n\"\n    //        + \"of the original node.  The DOM has been modified such that this is \\n\"\n    //        + \"no longer the case.\");\n    //}\n    if (t === 'string' || t === 'number') {\n        value = value.toString();\n        if (test.nodeType === TEXT_NODE) {\n            test.data = value;\n            good = test;\n        }\n        else {\n            value = document.createTextNode(value);\n            parent.replaceChild(value, test);\n            if (range.end === test)\n                range.end = value;\n            range.start = good = value;\n        }\n    }\n    else if (value instanceof Node) {\n        if (test !== value) {\n            parent.replaceChild(value, test);\n            if (range.end === test)\n                range.end = value;\n            range.start = value;\n        }\n        good = value;\n    }\n    else if (Array.isArray(value)) {\n        insertArray(value);\n    }\n    else if (value instanceof Function) {\n        S(function () {\n            insert(range, value());\n        });\n        good = range.end;\n    }\n    else if (value !== null && value !== undefined && value !== true && value !== false) {\n        value = value.toString();\n        if (test.nodeType === TEXT_NODE) {\n            test.data = value;\n            good = test;\n        }\n        else {\n            value = document.createTextNode(value);\n            parent.replaceChild(value, test);\n            if (range.end === test)\n                range.end = value;\n            range.start = good = value;\n        }\n    }\n    if (good === null) {\n        if (range.start === parent.firstChild && range.end === parent.lastChild && range.start !== range.end) {\n            // fast delete entire contents\n            parent.textContent = \"\";\n            value = document.createTextNode(\"\");\n            parent.appendChild(value);\n            good = range.start = range.end = value;\n        }\n        else if (test.nodeType === TEXT_NODE) {\n            test.data = \"\";\n            good = test;\n        }\n        else {\n            value = document.createTextNode(\"\");\n            parent.replaceChild(value, test);\n            if (range.end === test)\n                range.end = value;\n            range.start = good = value;\n        }\n    }\n    // remove anything left after the good cursor from the insert range\n    while (good !== range.end) {\n        test = range.end;\n        range.end = test.previousSibling;\n        parent.removeChild(test);\n    }\n    return range;\n    function insertArray(array) {\n        for (var i = 0, len = array.length; i < len; i++) {\n            var value = array[i];\n            if (good === range.end) {\n                if (value instanceof Node) {\n                    good = range.end = (good.nextSibling ? parent.insertBefore(value, good.nextSibling) : parent.appendChild(value));\n                }\n                else if (value instanceof Array) {\n                    insertArray(value);\n                }\n                else if (value !== null && value !== undefined && value !== false && value !== true) {\n                    value = document.createTextNode(value.toString());\n                    good = range.end = (good.nextSibling ? parent.insertBefore(value, good.nextSibling) : parent.appendChild(value));\n                }\n            }\n            else {\n                if (value instanceof Node) {\n                    if (test !== value) {\n                        if (good === null) {\n                            if (range.end === value)\n                                range.end = value.previousSibling;\n                            parent.replaceChild(value, test);\n                            range.start = value;\n                            if (range.end === test)\n                                range.end = value;\n                            test = value.nextSibling;\n                        }\n                        else {\n                            if (test.nextSibling === value && test !== value.nextSibling && test !== range.end) {\n                                parent.removeChild(test);\n                                test = value.nextSibling;\n                            }\n                            else {\n                                if (range.end === value)\n                                    range.end = value.previousSibling;\n                                parent.insertBefore(value, test);\n                            }\n                        }\n                    }\n                    else {\n                        test = test.nextSibling;\n                    }\n                    good = value;\n                }\n                else if (value instanceof Array) {\n                    insertArray(value);\n                }\n                else if (value !== null && value !== undefined && value !== true && value !== false) {\n                    value = value.toString();\n                    if (test.nodeType === TEXT_NODE) {\n                        test.data = value;\n                        if (good === null)\n                            range.start = test;\n                        good = test, test = good.nextSibling;\n                    }\n                    else {\n                        value = document.createTextNode(value);\n                        parent.insertBefore(value, test);\n                        if (good === null)\n                            range.start = value;\n                        good = value;\n                    }\n                }\n            }\n        }\n    }\n}\n","import { S } from './index';\nexport function content(parent, value, current) {\n    var t = typeof value;\n    if (current === value) {\n        // nothing to do\n    }\n    else if (t === 'string') {\n        // if a Text node already exists, it's faster to set its .data than set the parent.textContent\n        if (current !== \"\" && typeof current === 'string') {\n            current = parent.firstChild.data = value;\n        }\n        else {\n            current = parent.textContent = value;\n        }\n    }\n    else if (t === 'number') {\n        value = value.toString();\n        if (current !== \"\" && typeof current === 'string') {\n            current = parent.firstChild.data = value;\n        }\n        else {\n            current = parent.textContent = value;\n        }\n    }\n    else if (value == null || t === 'boolean') {\n        clear(parent);\n        current = \"\";\n    }\n    else if (t === 'function') {\n        S(function () {\n            current = content(parent, value(), current);\n        });\n    }\n    else if (value instanceof Node) {\n        if (Array.isArray(current)) {\n            if (current.length === 0) {\n                parent.appendChild(value);\n            }\n            else if (current.length === 1) {\n                parent.replaceChild(value, current[0]);\n            }\n            else {\n                clear(parent);\n                parent.appendChild(value);\n            }\n        }\n        else if (current === \"\") {\n            parent.appendChild(value);\n        }\n        else {\n            parent.replaceChild(value, parent.firstChild);\n        }\n        current = value;\n    }\n    else if (Array.isArray(value)) {\n        var array = normalizeIncomingArray([], value);\n        if (array.length === 0) {\n            clear(parent);\n        }\n        else {\n            if (Array.isArray(current)) {\n                if (current.length === 0) {\n                    appendNodes(parent, array, 0, array.length);\n                }\n                else {\n                    reconcileArrays(parent, current, array);\n                }\n            }\n            else if (current === \"\") {\n                appendNodes(parent, array, 0, array.length);\n            }\n            else {\n                reconcileArrays(parent, [parent.firstChild], array);\n            }\n        }\n        current = array;\n    }\n    else {\n        throw new Error(\"content must be Node, stringable, or array of same\");\n    }\n    return current;\n}\nvar NOMATCH = -1, NOINSERT = -2;\nvar RECONCILE_ARRAY_BATCH = 0;\nvar RECONCILE_ARRAY_BITS = 16, RECONCILE_ARRAY_INC = 1 << RECONCILE_ARRAY_BITS, RECONCILE_ARRAY_MASK = RECONCILE_ARRAY_INC - 1;\n// reconcile the content of parent from ns to us\n// see ivi's excellent writeup of diffing arrays in a vdom library: \n// https://github.com/ivijs/ivi/blob/2c81ead934b9128e092cc2a5ef2d3cabc73cb5dd/packages/ivi/src/vdom/implementation.ts#L1187\n// this code isn't identical, since we're diffing real dom nodes to nodes-or-strings, \n// but the core methodology of trimming ends and reversals, matching nodes, then using\n// the longest increasing subsequence to minimize DOM ops is inspired by ivi.\nfunction reconcileArrays(parent, ns, us) {\n    var ulen = us.length, \n    // n = nodes, u = updates\n    // ranges defined by min and max indices\n    nmin = 0, nmax = ns.length - 1, umin = 0, umax = ulen - 1, \n    // start nodes of ranges\n    n = ns[nmin], u = us[umin], \n    // end nodes of ranges\n    nx = ns[nmax], ux = us[umax], \n    // node, if any, just after ux, used for doing .insertBefore() to put nodes at end\n    ul = nx.nextSibling, i, j, k, loop = true;\n    // scan over common prefixes, suffixes, and simple reversals\n    fixes: while (loop) {\n        loop = false;\n        // common prefix, u === n\n        while (equable(u, n, umin, us)) {\n            umin++;\n            nmin++;\n            if (umin > umax || nmin > nmax)\n                break fixes;\n            u = us[umin];\n            n = ns[nmin];\n        }\n        // common suffix, ux === nx\n        while (equable(ux, nx, umax, us)) {\n            ul = nx;\n            umax--;\n            nmax--;\n            if (umin > umax || nmin > nmax)\n                break fixes;\n            ux = us[umax];\n            nx = ns[nmax];\n        }\n        // reversal u === nx, have to swap node forward\n        while (equable(u, nx, umin, us)) {\n            loop = true;\n            parent.insertBefore(nx, n);\n            umin++;\n            nmax--;\n            if (umin > umax || nmin > nmax)\n                break fixes;\n            u = us[umin];\n            nx = ns[nmax];\n        }\n        // reversal ux === n, have to swap node back\n        while (equable(ux, n, umax, us)) {\n            loop = true;\n            if (ul === null)\n                parent.appendChild(n);\n            else\n                parent.insertBefore(n, ul);\n            ul = n;\n            umax--;\n            nmin++;\n            if (umin > umax || nmin > nmax)\n                break fixes;\n            ux = us[umax];\n            n = ns[nmin];\n        }\n    }\n    // if that covered all updates, just need to remove any remaining nodes and we're done\n    if (umin > umax) {\n        // remove any remaining nodes\n        while (nmin <= nmax) {\n            parent.removeChild(ns[nmax]);\n            nmax--;\n        }\n        return;\n    }\n    // if that covered all current nodes, just need to insert any remaining updates and we're done\n    if (nmin > nmax) {\n        // insert any remaining nodes\n        while (umin <= umax) {\n            insertOrAppend(parent, us[umin], ul, umin, us);\n            umin++;\n        }\n        return;\n    }\n    // simple cases don't apply, have to actually match up nodes and figure out minimum DOM ops\n    // loop through nodes and mark them with a special property indicating their order\n    // we'll then go through the updates and look for those properties\n    // in case any of the updates have order properties left over from earlier runs, we \n    // use the low bits of the order prop to record a batch identifier.\n    // I'd much rather use a Map than a special property, but Maps of objects are really\n    // slow currently, like only 100k get/set ops / second\n    // for Text nodes, all that matters is their order, as they're easily, interchangeable\n    // so we record their positions in ntext[]\n    var ntext = [];\n    // update global batch identifer\n    RECONCILE_ARRAY_BATCH = (RECONCILE_ARRAY_BATCH + 1) % RECONCILE_ARRAY_INC;\n    for (i = nmin, j = (nmin << RECONCILE_ARRAY_BITS) + RECONCILE_ARRAY_BATCH; i <= nmax; i++, j += RECONCILE_ARRAY_INC) {\n        n = ns[i];\n        // add or update special order property\n        if (n.__surplus_order === undefined) {\n            Object.defineProperty(n, '__surplus_order', { value: j, writable: true });\n        }\n        else {\n            n.__surplus_order = j;\n        }\n        if (n instanceof Text) {\n            ntext.push(i);\n        }\n    }\n    // now loop through us, looking for the order property, otherwise recording NOMATCH\n    var src = new Array(umax - umin + 1), utext = [], preserved = 0;\n    for (i = umin; i <= umax; i++) {\n        u = us[i];\n        if (typeof u === 'string') {\n            utext.push(i);\n            src[i - umin] = NOMATCH;\n        }\n        else if ((j = u.__surplus_order) !== undefined && (j & RECONCILE_ARRAY_MASK) === RECONCILE_ARRAY_BATCH) {\n            j >>= RECONCILE_ARRAY_BITS;\n            src[i - umin] = j;\n            ns[j] = null;\n            preserved++;\n        }\n        else {\n            src[i - umin] = NOMATCH;\n        }\n    }\n    if (preserved === 0 && nmin === 0 && nmax === ns.length - 1) {\n        // no nodes preserved, use fast clear and append\n        clear(parent);\n        while (umin <= umax) {\n            insertOrAppend(parent, us[umin], null, umin, us);\n            umin++;\n        }\n        return;\n    }\n    // find longest common sequence between ns and us, represented as the indices \n    // of the longest increasing subsequence in src\n    var lcs = longestPositiveIncreasingSubsequence(src);\n    // we know we can preserve their order, so march them as NOINSERT\n    for (i = 0; i < lcs.length; i++) {\n        src[lcs[i]] = NOINSERT;\n    }\n    /*\n              0   1   2   3   4   5   6   7\n    ns    = [ n,  n,  t,  n,  n,  n,  t,  n ]\n                  |          /   /       /\n                  |        /   /       /\n                  +------/---/-------/----+\n                       /   /       /      |\n    us    = [ n,  s,  n,  n,  s,  n,  s,  n ]\n    src   = [-1, -1,  4,  5, -1,  7, -1,  1 ]\n    lis   = [         2,  3,      5]\n                      j\n    utext = [     1,          4,      6 ]\n                  i\n    ntext = [         2,              6 ]\n                      k\n    */\n    // replace strings in us with Text nodes, reusing Text nodes from ns when we can do so without moving them\n    var utexti = 0, lcsj = 0, ntextk = 0;\n    for (i = 0, j = 0, k = 0; i < utext.length; i++) {\n        utexti = utext[i];\n        // need to answer qeustion \"if utext[i] falls between two lcs nodes, is there an ntext between them which we can reuse?\"\n        // first, find j such that lcs[j] is the first lcs node *after* utext[i]\n        while (j < lcs.length && (lcsj = lcs[j]) < utexti - umin)\n            j++;\n        // now, find k such that ntext[k] is the first ntext *after* lcs[j-1] (or after start, if j === 0)\n        while (k < ntext.length && (ntextk = ntext[k], j !== 0) && ntextk < src[lcs[j - 1]])\n            k++;\n        // if ntext[k] < lcs[j], then we know ntext[k] falls between lcs[j-1] (or start) and lcs[j] (or end)\n        // that means we can re-use it without moving it\n        if (k < ntext.length && (j === lcs.length || ntextk < src[lcsj])) {\n            n = ns[ntextk];\n            u = us[utexti];\n            if (n.data !== u)\n                n.data = u;\n            ns[ntextk] = null;\n            us[utexti] = n;\n            src[utexti] = NOINSERT;\n            k++;\n        }\n        else {\n            // if we didn't find one to re-use, make a new Text node\n            us[utexti] = document.createTextNode(us[utexti]);\n        }\n    }\n    // remove stale nodes in ns\n    while (nmin <= nmax) {\n        n = ns[nmin];\n        if (n !== null) {\n            parent.removeChild(n);\n        }\n        nmin++;\n    }\n    // insert new nodes\n    while (umin <= umax) {\n        ux = us[umax];\n        if (src[umax - umin] !== NOINSERT) {\n            if (ul === null)\n                parent.appendChild(ux);\n            else\n                parent.insertBefore(ux, ul);\n        }\n        ul = ux;\n        umax--;\n    }\n}\n// two nodes are \"equable\" if they are identical (===) or if we can make them the same, i.e. they're \n// Text nodes, which we can reuse with the new text\nfunction equable(u, n, i, us) {\n    if (u === n) {\n        return true;\n    }\n    else if (typeof u === 'string' && n instanceof Text) {\n        if (n.data !== u)\n            n.data = u;\n        us[i] = n;\n        return true;\n    }\n    else {\n        return false;\n    }\n}\nfunction appendNodes(parent, array, i, end) {\n    var node;\n    for (; i < end; i++) {\n        node = array[i];\n        if (node instanceof Node) {\n            parent.appendChild(node);\n        }\n        else {\n            node = array[i] = document.createTextNode(node);\n            parent.appendChild(node);\n        }\n    }\n}\nfunction insertOrAppend(parent, node, marker, i, us) {\n    if (typeof node === 'string') {\n        node = us[i] = document.createTextNode(node);\n    }\n    if (marker === null)\n        parent.appendChild(node);\n    else\n        parent.insertBefore(node, marker);\n}\nfunction normalizeIncomingArray(normalized, array) {\n    for (var i = 0, len = array.length; i < len; i++) {\n        var item = array[i];\n        if (item instanceof Node) {\n            normalized.push(item);\n        }\n        else if (item == null || item === true || item === false) {\n            // skip\n        }\n        else if (Array.isArray(item)) {\n            normalizeIncomingArray(normalized, item);\n        }\n        else if (typeof item === 'string') {\n            normalized.push(item);\n        }\n        else {\n            normalized.push(item.toString());\n        }\n    }\n    return normalized;\n}\nfunction clear(node) {\n    node.textContent = \"\";\n}\n// return an array of the indices of ns that comprise the longest increasing subsequence within ns\nfunction longestPositiveIncreasingSubsequence(ns) {\n    var seq = [], is = [], l = -1, pre = new Array(ns.length);\n    for (var i = 0, len = ns.length; i < len; i++) {\n        var n = ns[i];\n        if (n < 0)\n            continue;\n        var j = findGreatestIndexLEQ(seq, n);\n        if (j !== -1)\n            pre[i] = is[j];\n        if (j === l) {\n            l++;\n            seq[l] = n;\n            is[l] = i;\n        }\n        else if (n < seq[j + 1]) {\n            seq[j + 1] = n;\n            is[j + 1] = i;\n        }\n    }\n    for (i = is[l]; l >= 0; i = pre[i], l--) {\n        seq[l] = i;\n    }\n    return seq;\n}\nfunction findGreatestIndexLEQ(seq, n) {\n    // invariant: lo is guaranteed to be index of a value <= n, hi to be >\n    // therefore, they actually start out of range: (-1, last + 1)\n    var lo = -1, hi = seq.length;\n    // fast path for simple increasing sequences\n    if (hi > 0 && seq[hi - 1] <= n)\n        return hi - 1;\n    while (hi - lo > 1) {\n        var mid = Math.floor((lo + hi) / 2);\n        if (seq[mid] > n) {\n            hi = mid;\n        }\n        else {\n            lo = mid;\n        }\n    }\n    return lo;\n}\n","var svgNS = \"http://www.w3.org/2000/svg\";\nexport function createElement(tag, className, parent) {\n    var el = document.createElement(tag);\n    if (className)\n        el.className = className;\n    if (parent)\n        parent.appendChild(el);\n    return el;\n}\nexport function createSvgElement(tag, className, parent) {\n    var el = document.createElementNS(svgNS, tag);\n    if (className)\n        el.setAttribute(\"class\", className);\n    if (parent)\n        parent.appendChild(el);\n    return el;\n}\nexport function createComment(text, parent) {\n    var comment = document.createComment(text);\n    parent.appendChild(comment);\n    return comment;\n}\nexport function createTextNode(text, parent) {\n    var node = document.createTextNode(text);\n    parent.appendChild(node);\n    return node;\n}\nexport function setAttribute(node, name, value) {\n    if (value === false || value === null || value === undefined)\n        node.removeAttribute(name);\n    else\n        node.setAttribute(name, value);\n}\nexport function setAttributeNS(node, namespace, name, value) {\n    if (value === false || value === null || value === undefined)\n        node.removeAttributeNS(namespace, name);\n    else\n        node.setAttributeNS(namespace, name, value);\n}\n","var \n// pre-seed the caches with a few special cases, so we don't need to check for them in the common cases\nhtmlFieldCache = {\n    // special props\n    style: ['style', null, 3 /* Assign */],\n    ref: ['ref', null, 2 /* Ignore */],\n    fn: ['fn', null, 2 /* Ignore */],\n    // attr compat\n    class: ['className', null, 0 /* Property */],\n    for: ['htmlFor', null, 0 /* Property */],\n    \"accept-charset\": ['acceptCharset', null, 0 /* Property */],\n    \"http-equiv\": ['httpEquiv', null, 0 /* Property */],\n    // a few React oddities, mostly disagreeing about casing\n    onDoubleClick: ['ondblclick', null, 0 /* Property */],\n    spellCheck: ['spellcheck', null, 0 /* Property */],\n    allowFullScreen: ['allowFullscreen', null, 0 /* Property */],\n    autoCapitalize: ['autocapitalize', null, 0 /* Property */],\n    autoFocus: ['autofocus', null, 0 /* Property */],\n    autoPlay: ['autoplay', null, 0 /* Property */],\n    // other\n    // role is part of the ARIA spec but not caught by the aria- attr filter\n    role: ['role', null, 1 /* Attribute */]\n}, svgFieldCache = {\n    // special props\n    style: ['style', null, 3 /* Assign */],\n    ref: ['ref', null, 2 /* Ignore */],\n    fn: ['fn', null, 2 /* Ignore */],\n    // property compat\n    className: ['class', null, 1 /* Attribute */],\n    htmlFor: ['for', null, 1 /* Attribute */],\n    tabIndex: ['tabindex', null, 1 /* Attribute */],\n    // React compat\n    onDoubleClick: ['ondblclick', null, 0 /* Property */],\n    // attributes with eccentric casing - some SVG attrs are snake-cased, some camelCased\n    allowReorder: ['allowReorder', null, 1 /* Attribute */],\n    attributeName: ['attributeName', null, 1 /* Attribute */],\n    attributeType: ['attributeType', null, 1 /* Attribute */],\n    autoReverse: ['autoReverse', null, 1 /* Attribute */],\n    baseFrequency: ['baseFrequency', null, 1 /* Attribute */],\n    calcMode: ['calcMode', null, 1 /* Attribute */],\n    clipPathUnits: ['clipPathUnits', null, 1 /* Attribute */],\n    contentScriptType: ['contentScriptType', null, 1 /* Attribute */],\n    contentStyleType: ['contentStyleType', null, 1 /* Attribute */],\n    diffuseConstant: ['diffuseConstant', null, 1 /* Attribute */],\n    edgeMode: ['edgeMode', null, 1 /* Attribute */],\n    externalResourcesRequired: ['externalResourcesRequired', null, 1 /* Attribute */],\n    filterRes: ['filterRes', null, 1 /* Attribute */],\n    filterUnits: ['filterUnits', null, 1 /* Attribute */],\n    gradientTransform: ['gradientTransform', null, 1 /* Attribute */],\n    gradientUnits: ['gradientUnits', null, 1 /* Attribute */],\n    kernelMatrix: ['kernelMatrix', null, 1 /* Attribute */],\n    kernelUnitLength: ['kernelUnitLength', null, 1 /* Attribute */],\n    keyPoints: ['keyPoints', null, 1 /* Attribute */],\n    keySplines: ['keySplines', null, 1 /* Attribute */],\n    keyTimes: ['keyTimes', null, 1 /* Attribute */],\n    lengthAdjust: ['lengthAdjust', null, 1 /* Attribute */],\n    limitingConeAngle: ['limitingConeAngle', null, 1 /* Attribute */],\n    markerHeight: ['markerHeight', null, 1 /* Attribute */],\n    markerUnits: ['markerUnits', null, 1 /* Attribute */],\n    maskContentUnits: ['maskContentUnits', null, 1 /* Attribute */],\n    maskUnits: ['maskUnits', null, 1 /* Attribute */],\n    numOctaves: ['numOctaves', null, 1 /* Attribute */],\n    pathLength: ['pathLength', null, 1 /* Attribute */],\n    patternContentUnits: ['patternContentUnits', null, 1 /* Attribute */],\n    patternTransform: ['patternTransform', null, 1 /* Attribute */],\n    patternUnits: ['patternUnits', null, 1 /* Attribute */],\n    pointsAtX: ['pointsAtX', null, 1 /* Attribute */],\n    pointsAtY: ['pointsAtY', null, 1 /* Attribute */],\n    pointsAtZ: ['pointsAtZ', null, 1 /* Attribute */],\n    preserveAlpha: ['preserveAlpha', null, 1 /* Attribute */],\n    preserveAspectRatio: ['preserveAspectRatio', null, 1 /* Attribute */],\n    primitiveUnits: ['primitiveUnits', null, 1 /* Attribute */],\n    refX: ['refX', null, 1 /* Attribute */],\n    refY: ['refY', null, 1 /* Attribute */],\n    repeatCount: ['repeatCount', null, 1 /* Attribute */],\n    repeatDur: ['repeatDur', null, 1 /* Attribute */],\n    requiredExtensions: ['requiredExtensions', null, 1 /* Attribute */],\n    requiredFeatures: ['requiredFeatures', null, 1 /* Attribute */],\n    specularConstant: ['specularConstant', null, 1 /* Attribute */],\n    specularExponent: ['specularExponent', null, 1 /* Attribute */],\n    spreadMethod: ['spreadMethod', null, 1 /* Attribute */],\n    startOffset: ['startOffset', null, 1 /* Attribute */],\n    stdDeviation: ['stdDeviation', null, 1 /* Attribute */],\n    stitchTiles: ['stitchTiles', null, 1 /* Attribute */],\n    surfaceScale: ['surfaceScale', null, 1 /* Attribute */],\n    systemLanguage: ['systemLanguage', null, 1 /* Attribute */],\n    tableValues: ['tableValues', null, 1 /* Attribute */],\n    targetX: ['targetX', null, 1 /* Attribute */],\n    targetY: ['targetY', null, 1 /* Attribute */],\n    textLength: ['textLength', null, 1 /* Attribute */],\n    viewBox: ['viewBox', null, 1 /* Attribute */],\n    viewTarget: ['viewTarget', null, 1 /* Attribute */],\n    xChannelSelector: ['xChannelSelector', null, 1 /* Attribute */],\n    yChannelSelector: ['yChannelSelector', null, 1 /* Attribute */],\n    zoomAndPan: ['zoomAndPan', null, 1 /* Attribute */],\n};\nvar attributeOnlyRx = /-/, deepAttrRx = /^style-/, isAttrOnlyField = function (field) { return attributeOnlyRx.test(field) && !deepAttrRx.test(field); }, propOnlyRx = /^(on|style)/, isPropOnlyField = function (field) { return propOnlyRx.test(field); }, propPartRx = /[a-z][A-Z]/g, getAttrName = function (field) { return field.replace(propPartRx, function (m) { return m[0] + '-' + m[1]; }).toLowerCase(); }, jsxEventPropRx = /^on[A-Z]/, attrPartRx = /\\-(?:[a-z]|$)/g, getPropName = function (field) {\n    var prop = field.replace(attrPartRx, function (m) { return m.length === 1 ? '' : m[1].toUpperCase(); });\n    return jsxEventPropRx.test(prop) ? prop.toLowerCase() : prop;\n}, deepPropRx = /^(style)([A-Z])/, buildPropData = function (prop) {\n    var m = deepPropRx.exec(prop);\n    return m ? [m[2].toLowerCase() + prop.substr(m[0].length), m[1], 0 /* Property */] : [prop, null, 0 /* Property */];\n}, attrNamespaces = {\n    xlink: \"http://www.w3.org/1999/xlink\",\n    xml: \"http://www.w3.org/XML/1998/namespace\",\n}, attrNamespaceRx = new RegExp(\"^(\" + Object.keys(attrNamespaces).join('|') + \")-(.*)\"), buildAttrData = function (attr) {\n    var m = attrNamespaceRx.exec(attr);\n    return m ? [m[2], attrNamespaces[m[1]], 1 /* Attribute */] : [attr, null, 1 /* Attribute */];\n};\nexport var getFieldData = function (field, svg) {\n    var cache = svg ? svgFieldCache : htmlFieldCache, cached = cache[field];\n    if (cached)\n        return cached;\n    var attr = svg && !isPropOnlyField(field)\n        || !svg && isAttrOnlyField(field), name = attr ? getAttrName(field) : getPropName(field);\n    if (name !== field && (cached = cache[name]))\n        return cached;\n    var data = attr ? buildAttrData(name) : buildPropData(name);\n    return cache[field] = data;\n};\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nexport const Client = (server, token) => {\n    return {\n        user: {\n            get: () => send('GET', '/user'),\n            put: (user) => send('PUT', '/user', { user }),\n        },\n        login: {\n            post: (u, p) => send('POST', '/users/login', { user: { username: u, password: p } })\n        },\n        users: {\n            post: (u, e, p) => send('POST', '/users', { user: { username: u, email: e, password: p } }),\n        },\n        articles: {\n            get: (q = {}) => send('GET', '/articles' + query(q)),\n            post: (article) => send('POST', '/articles', { article })\n        },\n        article: {\n            get: (slug) => send('GET', `/articles/${slug}`),\n            put: (article) => send('GET', `/articles/${article.slug}`, { article }),\n        },\n        feed: {\n            get: (q = {}) => send('GET', '/article/feed' + query(q))\n        },\n        tags: {\n            get: () => send('GET', '/tags'),\n        },\n        favorite: {\n            post: (slug) => send('POST', `/articles/${slug}/favorite`),\n            del: (slug) => send('DEL', `/articles/${slug}/favorite`),\n        }\n    };\n    function send(method, url, data) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const headers = {}, opts = { method, headers };\n            if (data !== undefined) {\n                headers['Content-Type'] = 'application/json';\n                opts.body = JSON.stringify(data);\n            }\n            if (token()) {\n                headers['Authorization'] = `Token ${token()}`;\n            }\n            const response = yield fetch(server + url, opts);\n            if (response.status !== 200)\n                throw response;\n            const text = yield response.text();\n            try {\n                return JSON.parse(text);\n            }\n            catch (_a) {\n                return text;\n            }\n        });\n    }\n}, isAuthFailure = (e) => e instanceof Response && e.status === 401, query = (q) => Object.keys(q)\n    .filter(p => q[p] !== undefined)\n    .map((p, i) => `${i ? '&' : '?'}${encodeURIComponent(p)}=${encodeURIComponent(q[p])}`)\n    .join('');\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport S from 's-js';\nexport const AuthWatcher = (hasLoggedIn, isAuthFailure, loginFn) => {\n    // Our app code may issue multiple requests to the server which all experience\n    // auth failures.  We don't want to have the user re-login for each of them, we \n    // want one login process to handle all of them.  So we cache our login task\n    // here and re-use it for any requests that come in before we've finished re-\n    // logging in.\n    let loginTask = null;\n    // requestCreds is our flag to the app view that it needs to request a user/pass\n    // from the user. `null` means no need to request creds, a validation function\n    // means request creds and pass them to the function.\n    const requestCredentials = S.data(null);\n    return { requestCredentials, requireAuth };\n    function login() {\n        return loginTask = loginTask || new Promise(resolve => requestCredentials((username, password) => __awaiter(this, void 0, void 0, function* () {\n            const u = yield loginFn(username, password);\n            if (loginTask !== null) {\n                loginTask = null;\n                requestCredentials(null);\n                resolve(u);\n            }\n            return u;\n        })));\n    }\n    function foo(fn) {\n        return ((...args) => fn(...args));\n    }\n    function requireAuth(fn) {\n        return (() => __awaiter(this, arguments, void 0, function* () {\n            if (hasLoggedIn()) {\n                try {\n                    return yield fn(...arguments);\n                }\n                catch (e) {\n                    if (isAuthFailure(e)) {\n                        yield login();\n                        return yield fn(...arguments);\n                    }\n                }\n            }\n            else {\n                yield login();\n                return yield fn(...arguments);\n            }\n        }));\n    }\n};\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport S from 's-js';\nimport { ConfigStore } from './configStore';\nimport { TokenStore } from './TokenStore';\nimport { Client, isAuthFailure } from './client';\nimport { AuthWatcher } from './authWatcher';\nimport { AuthClient } from './authClient';\nexport const App = () => {\n    const config = ConfigStore(), user = S.value(null), token = TokenStore(user), baseClient = Client(config.Server, token), auth = AuthWatcher(() => !!token(), isAuthFailure, (u, p) => baseClient.login.post(u, p).then(u => user(u))), client = AuthClient(baseClient, auth);\n    return { user, client, requestCredentials: auth.requestCredentials, init: init() };\n    function init() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return token() ? user(yield baseClient.user.get()) : null;\n        });\n    }\n};\n","export const ConfigStore = () => window.APPCONFIG;\n","import S from 's-js';\nconst TOKEN_KEY = 'jwtToken';\nexport const TokenStore = (user) => {\n    S.on(user, () => localStorage.setItem(TOKEN_KEY, user() ? user().token : ''), null, true);\n    return () => localStorage.getItem(TOKEN_KEY) || '';\n};\n","export const AuthClient = (client, auth) => {\n    return {\n        user: client.user,\n        users: client.users,\n        login: client.login,\n        articles: client.articles,\n        article: client.article,\n        feed: client.feed,\n        tags: client.tags,\n        favorite: client.favorite\n    };\n};\n","import * as Surplus from \"surplus\";\nexport const Page = (props) => <div className=\"page\">\r\n            <Header section={props.section}/>\r\n            {props.children}\r\n            <Footer />\r\n        </div>, Header = ({ section = 0 /* Home */ }) => (<nav class=\"navbar navbar-light\">\r\n            <div class=\"container\">\r\n                <a class=\"navbar-brand\" href=\"#\">\r\n                    conduit\r\n                </a>\r\n                <ul class=\"nav navbar-nav pull-xs-right\">\r\n                    <li class=\"nav-item\">\r\n                        \r\n                        <a class=\"nav-link active\" href=\"#\">\r\n                            Home\r\n                        </a>\r\n                    </li>\r\n                    <li class=\"nav-item\">\r\n                        <a class=\"nav-link\" href=\"#/newpost\">\r\n                            <i class=\"ion-compose\"/>&nbsp;New Post\r\n                        </a>\r\n                    </li>\r\n                    <li class=\"nav-item\">\r\n                        <a class=\"nav-link\" href=\"#/settings\">\r\n                            <i class=\"ion-gear-a\"/>&nbsp;Settings\r\n                        </a>\r\n                    </li>\r\n                    <li class=\"nav-item\">\r\n                        <a class=\"nav-link\" href=\"#/login\">\r\n                            Sign up\r\n                        </a>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        </nav>), Footer = () => (<footer>\r\n            <div class=\"container\">\r\n                <a href=\"/\" class=\"logo-font\">\r\n                    conduit\r\n                </a>\r\n                <span class=\"attribution\">\r\n                    An interactive learning project from <a href=\"https://thinkster.io\">Thinkster</a>. Code &amp; design\r\n                    licensed under MIT.\r\n                </span>\r\n            </div>\r\n        </footer>);\n","import S from 's-js';\nimport * as Surplus from 'surplus';\nexport function Loading({ task, placeholder = \"Loading ...\", children }) {\n    const data = S.data(null);\n    task.then(data);\n    return (<div className=\"loading\">\n            {data() ? children(data()) : placeholder}\n        </div>);\n}\n","import S from 's-js';\nimport * as Surplus from \"surplus\";\nimport { Page } from \"./Page\";\nimport { Loading } from './Loading';\nexport const HomeRoute = (app) => {\n    const model = HomeModel(app);\n    return <HomePage {...model}/>;\n}, HomeModel = (app) => {\n    const tab = S.value('all'), // 'all' | 'your' | '#tag'\n    tag = () => tab()[0] === '#' ? tab().substr(1) : undefined, limit = 10, page = S.value(0), feed = S(() => (tab() === 'your' ? app.client.feed : app.client.articles)\n        .get({ limit, offset: page() * limit, tag: tag() })), onTabClick = (t) => () => S.freeze(() => (tab(t), page(0), false)), tags = app.client.tags.get();\n    return Object.assign({}, app, { tab, tag, page, feed, onTabClick, tags });\n}, HomePage = (model) => (<Page app={model} section={0 /* Home */}>\n            <Home {...model}/>\n        </Page>), Home = (model) => (<div class=\"home-page\">\n            <div class=\"banner\">\n                <div class=\"container\">\n                    <h1 class=\"logo-font\">conduit</h1>\n                    <p>A place to share your knowledge.</p>\n                </div>\n            </div>\n\n            <div class=\"container page\">\n                <div class=\"row\">\n                    <div class=\"col-md-9\">\n                        <div class=\"feed-toggle\">\n                            <ul class=\"nav nav-pills outline-active\">\n                                {model.user() && <li class=\"nav-item\">\n                                    <a class={\"nav-link \" + model.tab() === 'your' ? \"active\" : \"disabled\"} href=\"\" onClick={model.onTabClick('your')}>\n                                        Your Feed\n                                    </a>\n                                </li>}\n                                <li class=\"nav-item\">\n                                    <a class={\"nav-link \" + model.tab() === 'all' ? \"active\" : \"disabled\"} href=\"\" onClick={model.onTabClick('all')}>\n                                        Global Feed\n                                    </a>\n                                </li>\n                                {model.tag() && <li class=\"nav-item\">\n                                    <a class=\"nav-link active\" href=\"\" onClick={model.onTabClick('#' + model.tag())}>\n                                        <i class=\"ion-pound\"/>\n                                        {\" \" + model.tag()}\n                                    </a>\n                                </li>}\n                            </ul>\n                        </div>\n\n                        <Loading task={model.feed()} placeholder={<div className=\"article-preview\">Loading...</div>}>\n                            {(resp) => resp.articles.map(article => <div class=\"article-preview\">\n                                    <div class=\"article-meta\">\n                                        <a href={`#/@${article.author.username}`}>\n                                            <img src={article.author.image} alt={article.author.username}/>\n                                        </a>\n                                        <div class=\"info\">\n                                            <a href={`#/@${article.author.username}`} class=\"author\">\n                                                {article.author.username}\n                                            </a>\n                                            <span class=\"date\">{new Date(article.createdAt).toDateString()}</span>\n                                        </div>\n                                        <button class=\"btn btn-outline-primary btn-sm pull-xs-right\">\n                                            <i class=\"ion-heart\"/> {article.favoritesCount}\n                                        </button>\n                                    </div>\n                                    <a href={`#/article/${article.slug}`} class=\"preview-link\">\n                                        <h1>{article.title}</h1>\n                                        <p>{article.description}</p>\n                                        <span>Read more...</span>\n                                        <ul className=\"tag-list\">\n                                            {article.tagList.map(tag => <li className=\"tag-default tag-pill tag-outline\">\n                                                    {tag}\n                                                </li>)}\n                                        </ul>\n                                    </a>\n                                </div>)}\n                        </Loading>\n                    </div>\n\n                    <div class=\"col-md-3\">\n                        <div class=\"sidebar\">\n                            <p>Popular Tags</p>\n\n                            <Loading task={model.tags}>\n                                {data => <div class=\"tag-list\">\n                                        {data.tags.map(tag => <a href=\"\" class=\"tag-pill tag-default\" onClick={model.onTabClick('#' + tag)}>\n                                                {tag}\n                                            </a>)}\n                                    </div>}\n                            </Loading>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>);\n","import * as Surplus from \"surplus\";\nimport { Page } from './Page';\nexport const SignInPage = ({ app }) => <Page app={app} section={4 /* SignUp */}>\n        <SignIn />\n    </Page>, SignIn = () => (<div class=\"auth-page\">\n        <div class=\"container page\">\n            <div class=\"row\">\n                <div class=\"col-md-6 offset-md-3 col-xs-12\">\n                    <h1 class=\"text-xs-center\">Sign up</h1>\n                    <p class=\"text-xs-center\">\n                        <a href=\"\">Have an account?</a>\n                    </p>\n\n                    <ul class=\"error-messages\">\n                        <li>That email is already taken</li>\n                    </ul>\n\n                    <form>\n                        <fieldset class=\"form-group\">\n                            <input class=\"form-control form-control-lg\" type=\"text\" placeholder=\"Your Name\"/>\n                        </fieldset>\n                        <fieldset class=\"form-group\">\n                            <input class=\"form-control form-control-lg\" type=\"text\" placeholder=\"Email\"/>\n                        </fieldset>\n                        <fieldset class=\"form-group\">\n                            <input class=\"form-control form-control-lg\" type=\"password\" placeholder=\"Password\"/>\n                        </fieldset>\n                        <button class=\"btn btn-lg btn-primary pull-xs-right\">\n                            Sign up\n                        </button>\n                    </form>\n                </div>\n            </div>\n        </div>\n    </div>);\n","import * as Surplus from \"surplus\";\nimport { Page } from \"./Page\";\nexport { SettingsPage };\nconst SettingsPage = ({ app }) => (<Page app={app} section={2 /* Settings */}>\n            <Settings />\n        </Page>), Settings = () => (<div class=\"settings-page\">\n            <div class=\"container page\">\n                <div class=\"row\">\n                    <div class=\"col-md-6 offset-md-3 col-xs-12\">\n                        <h1 class=\"text-xs-center\">Your Settings</h1>\n\n                        <form>\n                            <fieldset>\n                                <fieldset class=\"form-group\">\n                                    <input class=\"form-control\" type=\"text\" placeholder=\"URL of profile picture\"/>\n                                </fieldset>\n                                <fieldset class=\"form-group\">\n                                    <input class=\"form-control form-control-lg\" type=\"text\" placeholder=\"Your Name\"/>\n                                </fieldset>\n                                <fieldset class=\"form-group\">\n                                    <textarea class=\"form-control form-control-lg\" rows={8} placeholder=\"Short bio about you\"/>\n                                </fieldset>\n                                <fieldset class=\"form-group\">\n                                    <input class=\"form-control form-control-lg\" type=\"text\" placeholder=\"Email\"/>\n                                </fieldset>\n                                <fieldset class=\"form-group\">\n                                    <input class=\"form-control form-control-lg\" type=\"password\" placeholder=\"Password\"/>\n                                </fieldset>\n                                <button class=\"btn btn-lg btn-primary pull-xs-right\">\n                                    Update Settings\n                                </button>\n                            </fieldset>\n                        </form>\n                    </div>\n                </div>\n            </div>\n        </div>);\n","import * as Surplus from \"surplus\";\nimport { Page } from \"./Page\";\nexport { EditorPage };\nconst EditorPage = ({ app }) => (<Page app={app} section={1 /* NewPost */}>\n            <Editor />\n        </Page>), Editor = () => (<div class=\"editor-page\">\n            <div class=\"container page\">\n                <div class=\"row\">\n                    <div class=\"col-md-10 offset-md-1 col-xs-12\">\n                        <form>\n                            <fieldset>\n                                <fieldset class=\"form-group\">\n                                    <input type=\"text\" class=\"form-control form-control-lg\" placeholder=\"Article Title\"/>\n                                </fieldset>\n                                <fieldset class=\"form-group\">\n                                    <input type=\"text\" class=\"form-control\" placeholder=\"What's this article about?\"/>\n                                </fieldset>\n                                <fieldset class=\"form-group\">\n                                    <textarea class=\"form-control\" rows={8} placeholder=\"Write your article (in markdown)\"/>\n                                </fieldset>\n                                <fieldset class=\"form-group\">\n                                    <input type=\"text\" class=\"form-control\" placeholder=\"Enter tags\"/>\n                                    <div class=\"tag-list\"/>\n                                </fieldset>\n                                <button class=\"btn btn-lg pull-xs-right btn-primary\" type=\"button\">\n                                    Publish Article\n                                </button>\n                            </fieldset>\n                        </form>\n                    </div>\n                </div>\n            </div>\n        </div>);\n","import * as Surplus from \"surplus\";\nimport { Page } from \"./Page\";\nexport { ArticlePage };\nconst ArticlePage = ({ app, slug }) => (<Page app={app} section={1 /* NewPost */}>\n            <Article slug={slug}/>\n        </Page>), Article = ({ slug }) => (<div class=\"article-page\">\n            <div class=\"banner\">\n                <div class=\"container\">\n                    <h1>How to build webapps that scale</h1>\n\n                    <div class=\"article-meta\">\n                        <a href=\"\">\n                            <img src=\"http://i.imgur.com/Qr71crq.jpg\"/>\n                        </a>\n                        <div class=\"info\">\n                            <a href=\"\" class=\"author\">\n                                Eric Simons\n                            </a>\n                            <span class=\"date\">January 20th</span>\n                        </div>\n                        <button class=\"btn btn-sm btn-outline-secondary\">\n                            <i class=\"ion-plus-round\"/>\n                            &nbsp; Follow Eric Simons{\" \"}\n                            <span class=\"counter\">(10)</span>\n                        </button>\n                        &nbsp;&nbsp;\n                        <button class=\"btn btn-sm btn-outline-primary\">\n                            <i class=\"ion-heart\"/>\n                            &nbsp; Favorite Post{\" \"}\n                            <span class=\"counter\">(29)</span>\n                        </button>\n                    </div>\n                </div>\n            </div>\n\n            <div class=\"container page\">\n                <div class=\"row article-content\">\n                    <div class=\"col-md-12\">\n                        <p>\n                            Web development technologies have evolved at an\n                            incredible clip over the past few years.\n                        </p>\n                        <h2 id=\"introducing-ionic\">Introducing RealWorld.</h2>\n                        <p>\n                            It's a great solution for learning how other\n                            frameworks work.\n                        </p>\n                    </div>\n                </div>\n\n                <hr />\n\n                <div class=\"article-actions\">\n                    <div class=\"article-meta\">\n                        <a href=\"profile.html\">\n                            <img src=\"http://i.imgur.com/Qr71crq.jpg\"/>\n                        </a>\n                        <div class=\"info\">\n                            <a href=\"\" class=\"author\">\n                                Eric Simons\n                            </a>\n                            <span class=\"date\">January 20th</span>\n                        </div>\n                        <button class=\"btn btn-sm btn-outline-secondary\">\n                            <i class=\"ion-plus-round\"/>\n                            &nbsp; Follow Eric Simons{\" \"}\n                            <span class=\"counter\">(10)</span>\n                        </button>\n                        &nbsp;\n                        <button class=\"btn btn-sm btn-outline-primary\">\n                            <i class=\"ion-heart\"/>\n                            &nbsp; Favorite Post{\" \"}\n                            <span class=\"counter\">(29)</span>\n                        </button>\n                    </div>\n                </div>\n\n                <div class=\"row\">\n                    <div class=\"col-xs-12 col-md-8 offset-md-2\">\n                        <form class=\"card comment-form\">\n                            <div class=\"card-block\">\n                                <textarea class=\"form-control\" placeholder=\"Write a comment...\" rows=\"3\"/>\n                            </div>\n                            <div class=\"card-footer\">\n                                <img src=\"http://i.imgur.com/Qr71crq.jpg\" class=\"comment-author-img\"/>\n                                <button class=\"btn btn-sm btn-primary\">\n                                    Post Comment\n                                </button>\n                            </div>\n                        </form>\n\n                        <div class=\"card\">\n                            <div class=\"card-block\">\n                                <p class=\"card-text\">\n                                    With supporting text below as a natural\n                                    lead-in to additional content.\n                                </p>\n                            </div>\n                            <div class=\"card-footer\">\n                                <a href=\"\" class=\"comment-author\">\n                                    <img src=\"http://i.imgur.com/Qr71crq.jpg\" class=\"comment-author-img\"/>\n                                </a>\n                                &nbsp;\n                                <a href=\"\" class=\"comment-author\">\n                                    Jacob Schmidt\n                                </a>\n                                <span class=\"date-posted\">Dec 29th</span>\n                            </div>\n                        </div>\n\n                        <div class=\"card\">\n                            <div class=\"card-block\">\n                                <p class=\"card-text\">\n                                    With supporting text below as a natural\n                                    lead-in to additional content.\n                                </p>\n                            </div>\n                            <div class=\"card-footer\">\n                                <a href=\"\" class=\"comment-author\">\n                                    <img src=\"http://i.imgur.com/Qr71crq.jpg\" class=\"comment-author-img\"/>\n                                </a>\n                                &nbsp;\n                                <a href=\"\" class=\"comment-author\">\n                                    Jacob Schmidt\n                                </a>\n                                <span class=\"date-posted\">Dec 29th</span>\n                                <span class=\"mod-options\">\n                                    <i class=\"ion-edit\"/>\n                                    <i class=\"ion-trash-a\"/>\n                                </span>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>);\n","import * as Surplus from \"surplus\";\nimport { Page } from \"./Page\";\nexport { ProfilePage };\nconst ProfilePage = (props) => (<Page app={props.app} section={4 /* SignUp */}>\n            <Profile {...props}/>\n        </Page>), Profile = ({ user }) => (<div class=\"profile-page\">\n            <div class=\"user-info\">\n                <div class=\"container\">\n                    <div class=\"row\">\n                        <div class=\"col-xs-12 col-md-10 offset-md-1\">\n                            <img src=\"http://i.imgur.com/Qr71crq.jpg\" class=\"user-img\"/>\n                            <h4>Eric Simons</h4>\n                            <p>\n                                Cofounder @GoThinkster, lived in Aol's HQ for a\n                                few months, kinda looks like Peeta from the\n                                Hunger Games\n                            </p>\n                            <button class=\"btn btn-sm btn-outline-secondary action-btn\">\n                                <i class=\"ion-plus-round\"/>\n                                &nbsp; Follow Eric Simons\n                            </button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            <div class=\"container\">\n                <div class=\"row\">\n                    <div class=\"col-xs-12 col-md-10 offset-md-1\">\n                        <div class=\"articles-toggle\">\n                            <ul class=\"nav nav-pills outline-active\">\n                                <li class=\"nav-item\">\n                                    <a class=\"nav-link active\" href=\"\">\n                                        My Articles\n                                    </a>\n                                </li>\n                                <li class=\"nav-item\">\n                                    <a class=\"nav-link\" href=\"\">\n                                        Favorited Articles\n                                    </a>\n                                </li>\n                            </ul>\n                        </div>\n\n                        <div class=\"article-preview\">\n                            <div class=\"article-meta\">\n                                <a href=\"\">\n                                    <img src=\"http://i.imgur.com/Qr71crq.jpg\"/>\n                                </a>\n                                <div class=\"info\">\n                                    <a href=\"\" class=\"author\">\n                                        Eric Simons\n                                    </a>\n                                    <span class=\"date\">January 20th</span>\n                                </div>\n                                <button class=\"btn btn-outline-primary btn-sm pull-xs-right\">\n                                    <i class=\"ion-heart\"/> 29\n                                </button>\n                            </div>\n                            <a href=\"\" class=\"preview-link\">\n                                <h1>How to build webapps that scale</h1>\n                                <p>This is the description for the post.</p>\n                                <span>Read more...</span>\n                            </a>\n                        </div>\n\n                        <div class=\"article-preview\">\n                            <div class=\"article-meta\">\n                                <a href=\"\">\n                                    <img src=\"http://i.imgur.com/N4VcUeJ.jpg\"/>\n                                </a>\n                                <div class=\"info\">\n                                    <a href=\"\" class=\"author\">\n                                        Albert Pai\n                                    </a>\n                                    <span class=\"date\">January 20th</span>\n                                </div>\n                                <button class=\"btn btn-outline-primary btn-sm pull-xs-right\">\n                                    <i class=\"ion-heart\"/> 32\n                                </button>\n                            </div>\n                            <a href=\"\" class=\"preview-link\">\n                                <h1>\n                                    The song you won't ever stop singing. No\n                                    matter how hard you try.\n                                </h1>\n                                <p>This is the description for the post.</p>\n                                <span>Read more...</span>\n                                <ul class=\"tag-list\">\n                                    <li class=\"tag-default tag-pill tag-outline\">\n                                        Music\n                                    </li>\n                                    <li class=\"tag-default tag-pill tag-outline\">\n                                        Song\n                                    </li>\n                                </ul>\n                            </a>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>);\n","import S from 's-js';\nimport * as Surplus from 'surplus';\nimport { App } from './app/app';\nimport { HomeRoute } from './components/Home';\nimport { SignInPage } from './components/SignIn';\nimport { SettingsPage } from './components/Settings';\nimport { EditorPage } from './components/Editor';\nimport { ArticlePage } from './components/Article';\nimport { ProfilePage } from './components/Profile';\nimport { Router } from './app/router';\nS.root(() => {\n    let app = App(), view = Router([\n        [/^#\\/@(.*)/, ([, user]) => <ProfilePage app={app} user={user}/>],\n        [/^#\\/article\\/(.*)/, ([, slug]) => <ArticlePage app={app} slug={slug}/>],\n        [/^#\\/editor/, () => <EditorPage app={app}/>],\n        [/^#\\/settings/, () => <SettingsPage app={app}/>],\n        [/^#\\/login/, () => <SignInPage app={app}/>],\n        [/^#?$/, () => HomeRoute(app)]\n    ]);\n    document.body.appendChild(<div id=\"app\">\r\n            {view()}\r\n        </div>);\n});\n","import S from 's-js';\nexport const Router = (routes) => {\n    const \n    // data signal to track the state of window.location.hash \n    hash = S.data(window.location.hash), \n    // and a function to update it\n    updateHash = () => hash(window.location.hash), \n    // computation to find the route for the current hash and call it, constructing the current view\n    view = S(() => {\n        const _hash = hash();\n        for (const route of routes) {\n            const m = route[0].exec(_hash);\n            if (m)\n                return route[1](m);\n        }\n        return `No route for ${_hash}`;\n    });\n    // make router live by subscribing to hash changes\n    window.addEventListener('hashchange', updateHash);\n    S.cleanup(() => window.removeEventListener('hashchange', updateHash));\n    return view;\n};\n"],"sourceRoot":""}